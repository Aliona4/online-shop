(()=>{"use strict";var t,e,a,r,o,s,n={134:(t,e,a)=>{var r=a(260),o=Object.create(null),s="undefined"==typeof document,n=Array.prototype.forEach;function i(){}function l(t,e){if(!e){if(!t.href)return;e=t.href.split("?")[0]}if(u(e)&&!1!==t.isLoaded&&e&&e.indexOf(".css")>-1){t.visited=!0;var a=t.cloneNode();a.isLoaded=!1,a.addEventListener("load",(function(){a.isLoaded||(a.isLoaded=!0,t.parentNode.removeChild(t))})),a.addEventListener("error",(function(){a.isLoaded||(a.isLoaded=!0,t.parentNode.removeChild(t))})),a.href="".concat(e,"?").concat(Date.now()),t.nextSibling?t.parentNode.insertBefore(a,t.nextSibling):t.parentNode.appendChild(a)}}function c(t){if(!t)return!1;var e=document.querySelectorAll("link"),a=!1;return n.call(e,(function(e){if(e.href){var o=function(t,e){var a;return t=r(t),e.some((function(r){t.indexOf(e)>-1&&(a=r)})),a}(e.href,t);u(o)&&!0!==e.visited&&o&&(l(e,o),a=!0)}})),a}function d(){var t=document.querySelectorAll("link");n.call(t,(function(t){!0!==t.visited&&l(t)}))}function u(t){return!!/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(t)}t.exports=function(t,e){if(s)return console.log("no window.document found, will not HMR CSS"),i;var a,n,l,u=function(t){var e=o[t];if(!e){if(document.currentScript)e=document.currentScript.src;else{var a=document.getElementsByTagName("script"),s=a[a.length-1];s&&(e=s.src)}o[t]=e}return function(t){if(!e)return null;var a=e.split(/([^\\/]+)\.js$/),o=a&&a[1];return o&&t?t.split(",").map((function(t){var a=new RegExp("".concat(o,"\\.js$"),"g");return r(e.replace(a,"".concat(t.replace(/{fileName}/g,o),".css")))})):[e.replace(".js",".css")]}}(t);return a=function(){var t=u(e.filename),a=c(t);if(e.locals)return console.log("[HMR] Detected local css modules. Reload all css"),void d();a?console.log("[HMR] css reload %s",t.join(" ")):(console.log("[HMR] Reload all css"),d())},n=50,l=0,function(){var t=this,e=arguments,r=function(){return a.apply(t,e)};clearTimeout(l),l=setTimeout(r,n)}}},260:t=>{t.exports=function(t){if(t=t.trim(),/^data:/i.test(t))return t;var e=-1!==t.indexOf("//")?t.split("//")[0]+"//":"",a=t.replace(new RegExp(e,"i"),"").split("/"),r=a[0].toLowerCase().replace(/\.$/,"");return a[0]="",e+r+a.reduce((function(t,e){switch(e){case"..":t.pop();break;case".":break;default:t.push(e)}return t}),[]).join("/")}},321:(t,e,a)=>{a.r(e);var r=a(134)(t.id,{locals:!1});t.hot.dispose(r),t.hot.accept(void 0,r)},174:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=a(104),o=a(888),s=new(a(699).Model),n=new o.Controller(s);new r.View(n,s)},921:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CartController=void 0;const r=a(295);e.CartController=class{constructor(t,e){this.model=t,this.routerController=e}toggle(t){this.model.toggleCart(t),this.model.applyCart()}quickBuy(t,e,a){t.preventDefault(),localStorage.setItem("with.popup","1"),this.model.inCart(e)||this.model.toggleCart(e),this.routerController.route(a,t)}makeOrder(){this.model.makeOrder()}resetCart(){this.model.resetCart()}changeQantity(t,e){this.model.changeQantity(t,e)}switchPage(t){this.model.switchPage(t)&&this.routerController.addUrlParam([[r.PaginationParams.CURRENT_PAGE,this.model.pagination.currentPage.toString()]],"/cart/")}applyPerPage(t){this.model.applyPerPage(t)&&this.routerController.addUrlParam([[r.PaginationParams.PER_PAGE,t.toString()]],"/cart/")}applyPromo(t){this.model.applyPromo(t)}verifyPromo(t){return this.model.verifyPromo(t)}removePromo(t){this.model.removePromo(t)}}},268:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FilterController=void 0;const r=a(926);e.FilterController=class{constructor(t,e){this.model=t,this.routerController=e}changeCategory(t,e){this.model.changeFilterCategory(t,e);let a=this.model.filterCategories;t?a.push(e.toString()):a=a.filter((t=>t!==e.toString())),this.routerController.addUrlParam([[r.SearchParams.CATEGORY,a.join("↕")]]),this.applyFilters()}changeBrand(t,e){this.model.changeFilterBrand(t,e);let a=this.model.filterBrands;t?a.push(e.toString()):a=a.filter((t=>t!==e.toString())),this.routerController.addUrlParam([[r.SearchParams.BRAND,a.join("↕")]]),this.applyFilters()}applyFilters(){this.model.applyFilters()}changePrice(t,e){this.model.changeFilterPrice(t,e);let[a,o]=this.model.filterPrice;a=t.toString(),o=e.toString(),this.routerController.addUrlParam([[r.SearchParams.PRICE,`${a}↕${o}`]]),this.applyFilters()}changeStock(t,e){this.model.changeFilterStock(t,e);let[a,o]=this.model.filterStock;a=t.toString(),o=e.toString(),this.routerController.addUrlParam([[r.SearchParams.STOCK,`${a}↕${o}`]]),this.applyFilters()}reset(){this.routerController.addUrlParam([[r.SearchParams.CATEGORY,""],[r.SearchParams.BRAND,""],[r.SearchParams.STOCK,""],[r.SearchParams.PRICE,""]]),this.model.initState(),this.applyFilters()}}},888:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Controller=void 0;const r=a(926),o=a(921),s=a(268),n=a(802),i=a(155);e.Controller=class{constructor(t){this.model=t,this.searchDelay=null,this.routerController=new n.RouterController(t),this.cartController=new o.CartController(t,this.routerController),this.searchController=new i.SearchController(t,this.routerController),this.filterController=new s.FilterController(t,this.routerController)}route(t,e=!1){this.routerController.route(t,e)}updateRoute(t){this.routerController.updateRoute(t)}addSearchPattern(t){this.searchDelay&&clearTimeout(this.searchDelay),this.searchDelay=setTimeout((()=>{this.searchController.addPattern(t)}),1e3)}changeFilterCategory(t,e){this.filterController.changeCategory(t,e)}changeFilterBrand(t,e){this.filterController.changeBrand(t,e)}applyFilters(){this.model.applyFilters()}applyControls(){this.model.applyControls()}applyCart(){this.model.applyCart()}changeFilterPrice(t,e){this.filterController.changePrice(t,e)}changeFilterStock(t,e){this.filterController.changeStock(t,e)}resetFilter(){this.filterController.reset()}changeLayout(t){this.model.changeLayout(t),this.routerController.addUrlParam([[r.SearchParams.LAYOUT,t]])}changeSort(t){this.model.changeSort(t),this.routerController.addUrlParam([[r.SearchParams.SORT,t]]),this.applyControls()}toggleCart(t){this.cartController.toggle(t)}quickBuy(t,e,a){this.cartController.quickBuy(t,e,a)}makeOrder(){this.cartController.makeOrder()}resetCart(){this.cartController.resetCart()}changeQantity(t,e){this.cartController.changeQantity(t,e)}switchPage(t){this.cartController.switchPage(t)}applyPerPage(t){this.cartController.applyPerPage(t)}applyPromo(t){this.cartController.applyPromo(t)}verifyPromo(t){return this.cartController.verifyPromo(t)}removePromo(t){this.cartController.removePromo(t)}}},802:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RouterController=void 0;const r=a(686);e.RouterController=class{constructor(t){this.model=t}route(t,e){e&&e.preventDefault(),window.history.pushState({},"",this.makeRoute(t)),this.updateRoute(t)}updateRoute(t){this.model.setRoute(t)}addUrlParam(t,e="/"){const a=this.model.route,r=new URLSearchParams(a.searchString);for(const[e,a]of t){const t=r.has(e)?"set":"append";a?r[t](e,a):r.delete(e)}let o=`${a.origin}`;t.length&&r.toString()&&(o+=`${e}?${r}`),window.history.replaceState({},"",this.makeRoute(o)),this.model.setRoute(o,!0)}makeRoute(t){const{host:e,origin:a}=this.model.route;return e.indexOf("github.io")>0&&(t=t.replace(a.replace(r.State.deployPath,""),a+r.State.deployPath)),t}}},155:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SearchController=void 0;const r=a(926);e.SearchController=class{constructor(t,e){this.model=t,this.routerController=e}addPattern(t){this.model.changeSearchPattern(t),this.routerController.addUrlParam([[r.SearchParams.SEARCH,encodeURIComponent(t)]]),this.model.applyFilters()}}},303:(t,e,a)=>{a(321),a(174)},777:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CartModel=void 0;const r=a(686),o=a(828);e.CartModel=class{toggle(t){let e=!1;r.State.products.map((a=>(a.id===t&&(a.cart=!a.cart,e=a.cart,a.stockUsed+=e?1:-1),a))),e?(r.State.cart.push(t),r.State.cartStock[t]=r.State.cartStock[t]?r.State.cartStock[t]+1:1):(r.State.cart=r.State.cart.filter((e=>e!==t)),delete r.State.cartStock[t]),this.cartLocalStorage()}cartLocalStorage(){r.State.cart.length?localStorage.setItem("cart",JSON.stringify(r.State.cart)):localStorage.removeItem("cart"),Object.keys(r.State.cartStock).length?localStorage.setItem("cartStock",JSON.stringify(r.State.cartStock)):localStorage.removeItem("cartStock")}resetCart(){r.State.cart=[],r.State.cartStock={},r.State.products.forEach((t=>{t.cart&&(t.cart=!1),t.stockUsed=0})),this.cartLocalStorage()}changeQantity(t,e,a){let o=!0;return r.State.products.map((a=>{a.id===t&&(a.stockUsed+=e,a.stockUsed<0&&(a.stockUsed=0,o=!1),a.stockUsed>a.stock&&(a.stockUsed=a.stock,o=!1),r.State.cartStock[t]=a.stockUsed,a.stockUsed||this.toggle(t))})),Object.keys(r.State.cartStock).length||a(),this.cartLocalStorage(),o}switchPage(t,e,a){let o=!0,{currentPage:s}=a;const n=Math.ceil(t/a.perPage);return s+=e,s<1&&(s=1,o=!1),s>n&&(s=n,o=!1),r.State.pagination.currentPage=s,o}applyPerPage(t){let e=!1;return t!==r.State.pagination.perPage&&(r.State.pagination={perPage:t,currentPage:1},e=!0),e}applyPromo(t,e){let a=!1;if(Object.keys(o.PROMO).includes(e)){"number"!=typeof o.PROMO[e]||t.includes(e)||(a=!0,r.State.promo.push(e),localStorage.setItem("promo",JSON.stringify(r.State.promo)))}return a}verifyPromo(t,e){let a=!1;if(Object.keys(o.PROMO).includes(e)){"number"!=typeof o.PROMO[e]||t.includes(e)||(a=!0)}return a}removePromo(t,e){let a=!1;if(Object.keys(o.PROMO).includes(e)){"number"==typeof o.PROMO[e]&&t.includes(e)&&(a=!0,r.State.promo=r.State.promo.filter((t=>t!==e)),r.State.promo.length?localStorage.setItem("promo",JSON.stringify(r.State.promo)):localStorage.removeItem("promo"))}return a}getPerPage(t){return t?+t:5}getCurrentPage(t){return t?+t:1}}},952:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ControlsModel=void 0;const r=a(686);e.ControlsModel=class{changeLayout(t){r.State.layout=t}getLayout(t){return t||"columns"}changeSort(t){r.State.sort=t}getSort(t){return t||"default"}}},211:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FilterModel=void 0;const r=a(686);e.FilterModel=class{changeCategory(t,e){r.State.categories.map((a=>(a.id===e&&(a.checked=t),a)))}getCategories(t){return t?t.split("↕"):[]}changeBrand(t,e){r.State.brands.map((a=>(a.id===e&&(a.checked=t),a)))}getBrands(t){return t?t.split("↕"):[]}changePrice(t,e){r.State.price.from=t,r.State.price.to=e}getPrices(t){return t?t.split("↕"):[null,null]}changeStock(t,e){r.State.stock.from=t,r.State.stock.to=e}getStocks(t){return t?t.split("↕"):[null,null]}}},699:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;const r=a(686),o=a(49),s=a(945),n=a(211),i=a(322),l=a(952),c=a(743),d=a(177),u=a(777),p=a(926);class h extends s.Observer{constructor(){super(),this.routerModel=new i.RouterModel,this.filterModel=new n.FilterModel,this.controlsModel=new l.ControlsModel,this.searchModel=new d.SearchModel,this.cartModel=new u.CartModel,this.initState()}setRoute(t,e=!1){this.routerModel.setRoute(t),e||this.emmit("route")}get route(){return this.routerModel.route}get brands(){return r.State.brands}get categories(){return r.State.categories}get products(){return r.State.products}get layout(){return r.State.layout}get sort(){return r.State.sort}get stockRange(){return r.State.stock}get priceRange(){return r.State.price}get amount(){return r.State.amount}changeFilterCategory(t,e){this.filterModel.changeCategory(t,e)}changeFilterBrand(t,e){this.filterModel.changeBrand(t,e)}changeFilterPrice(t,e){this.filterModel.changePrice(t,e)}changeFilterStock(t,e){this.filterModel.changeStock(t,e)}changeLayout(t){this.controlsModel.changeLayout(t)}changeSort(t){this.controlsModel.changeSort(t)}get perPage(){return this.cartModel.getPerPage(this.route.searchParams.per)}get currentPage(){return this.cartModel.getCurrentPage(this.route.searchParams.page)}get filterCategories(){return this.filterModel.getCategories(this.route.searchParams.category)}get filterBrands(){return this.filterModel.getBrands(this.route.searchParams.brand)}get filterPrice(){return this.filterModel.getPrices(this.route.searchParams.price)}get filterStock(){return this.filterModel.getStocks(this.route.searchParams.stock)}get controlLayout(){return this.controlsModel.getLayout(this.route.searchParams.layout)}get controlSort(){return this.controlsModel.getSort(this.route.searchParams.sort)}get searchPattern(){return this.searchModel.getPattern(this.route.searchParams.search)}get search(){return r.State.search}get cartItems(){return r.State.products.filter((t=>t.cart))}get cartIds(){return r.State.cart}get cartStocks(){return r.State.cartStock}get pagination(){return r.State.pagination}get promo(){return r.State.promo}get cartStockTotal(){return Object.values(r.State.cartStock).reduce(((t,e)=>t+e),0)}get totalPrice(){return this.cartItems.reduce(((t,e)=>t+=e.price*e.stockUsed),0)}get totalDiscounted(){return this.cartItems.reduce(((t,e)=>+(t+=(e.price-e.price/100*e.discountPercentage)*e.stockUsed).toFixed(2)),0)}inCart(t){return r.State.cart.includes(t)}totalStock(t){return r.State.products[t].stock-r.State.products[t].stockUsed}initState(){const t=[...o],e={},a={},s=Object.assign({},r.State.stock),n=Object.assign({},r.State.price),i=this.searchPattern,l=JSON.parse(localStorage.getItem("cart")||"[]"),c=JSON.parse(localStorage.getItem("cartStock")||"[]"),d=JSON.parse(localStorage.getItem("promo")||"[]"),u=this.perPage,p=this.currentPage,h=this.filterCategories,m=this.filterBrands,[g,f]=this.filterStock,[v,_]=this.filterPrice,b=this.controlLayout,k=this.controlSort;t.forEach((t=>{const r=m.includes(t.brand.id.toString()),o=h.includes(t.category.id.toString());a[t.category.id]=Object.assign(Object.assign({},t.category),{checked:o}),e[t.brand.id]=Object.assign(Object.assign({},t.brand),{checked:r}),t.stock>s.max&&(s.max=t.stock),t.price>n.max&&(n.max=t.price),t.cart=l.includes(t.id),t.stockUsed=c[t.id]?+c[t.id]:0})),r.State.products=[...t],r.State.categories=[...Object.values(a)],r.State.brands=[...Object.values(e)],r.State.stock={from:g?+g:this.getRangeFrom(s),to:f?+f:this.getRangeTo(s),max:s.max},r.State.price={from:v?+v:this.getRangeFrom(n),to:_?+_:this.getRangeTo(n),max:n.max},r.State.layout=b,r.State.sort=k,r.State.search=i,r.State.cart=[...l],r.State.cartStock=Object.assign({},c),r.State.promo=[...d],r.State.pagination={perPage:u,currentPage:p}}getRangeFrom(t){return Math.round(t.max-.9*t.max)}getRangeTo(t){return Math.round(t.max-.1*t.max)}applyFilters(){const t=this.searchPattern,e=this.filterBrands,a=this.filterCategories,[o,s]=this.filterStock,[n,i]=this.filterPrice;r.State.products.map((r=>{r.show=!0,a.length&&!1===a.includes(r.category.id.toString())&&(r.show=!1),e.length&&!1===e.includes(r.brand.id.toString())&&(r.show=!1),o&&s&&(r.stock<+o||r.stock>+s)&&(r.show=!1),n&&i&&(r.price<+n||r.price>+i)&&(r.show=!1);let l=!1;return t||(l=!0),l||(l=this.searchContains(t,r.brand.name)),l||(l=this.searchContains(t,r.category.name)),l||(l=this.searchContains(t,r.title)),l||(l=this.searchContains(t,r.price.toString())),l||(l=this.searchContains(t,r.description)),l||(r.show=!1),r})),this.calculateAmounts(),this.emmit("filter.update")}calculateAmounts(){const t={},e={};let a=this.cartIds.length;const o={min:1e7,max:0},s={min:1e7,max:0},[n,i]=this.filterStock,[l,c]=this.filterPrice;r.State.products.forEach((a=>{if(a.show){const r=a.category.id,n=a.brand.id;t[r]=t[r]?t[r]+1:1,e[n]=e[n]?e[n]+1:1,o.min>a.price&&(o.min=a.price),o.max<a.price&&(o.max=a.price),s.min>a.stock&&(s.min=a.stock),s.max<a.stock&&(s.max=a.stock)}}));let d=!1,u=!1;for(const t in this.route.searchParams)this.route.searchParams[t]&&t!==p.SearchParams.STOCK&&t!==p.SearchParams.PRICE&&(s.min<1e6&&(d=!0),o.min<1e6&&(u=!0));r.State.stock={from:n?+n:d?s.min:this.getRangeFrom(r.State.stock),to:i?+i:d?s.max:this.getRangeTo(r.State.stock),max:r.State.stock.max},r.State.price={from:l?+l:u?o.min:this.getRangeFrom(r.State.price),to:c?+c:u?o.max:this.getRangeTo(r.State.price),max:r.State.price.max},a=Object.values(t).reduce(((t,e)=>t+e),0),r.State.amount={categories:t,brands:e,total:a}}applyControls(){switch(this.controlSort){case c.SortSettings.DEFAULT:r.State.products.sort(((t,e)=>t.id-e.id));break;case c.SortSettings.PRICE_LOW_TO_HIGH:r.State.products.sort(((t,e)=>t.price-e.price));break;case c.SortSettings.PRICE_HIGH_TO_LOW:r.State.products.sort(((t,e)=>e.price-t.price));break;case c.SortSettings.RATING_HIGH_TO_LOW:r.State.products.sort(((t,e)=>e.rating-t.rating));break;case c.SortSettings.RATING_LOW_TO_HIGH:r.State.products.sort(((t,e)=>t.rating-e.rating))}this.emmit("controls.update")}applyCart(){const t=this.cartIds,e=this.cartStocks;r.State.products.map((a=>(t.includes(a.id)&&(a.cart=!0),a.stockUsed=e[a.id]?e[a.id]:0,a))),this.emmit("cart.update")}resetCart(){this.cartModel.resetCart(),this.emmit("cart.update"),this.emmit("cart.reset")}changeQantity(t,e){this.cartModel.changeQantity(t,e,(()=>this.emmit("cart.null")))&&this.emmit("cart.update")}switchPage(t){const e=this.cartModel.switchPage(this.cartItems.length,t,r.State.pagination);return e&&this.emmit("cart.update"),e}applyPerPage(t){const e=this.cartModel.applyPerPage(t);return e&&this.emmit("cart.update"),e}applyPromo(t){this.cartModel.applyPromo(this.promo,t)&&this.emmit("cart.update")}verifyPromo(t){return this.cartModel.verifyPromo(this.promo,t)}removePromo(t){this.cartModel.removePromo(this.promo,t)&&this.emmit("cart.update")}changeSearchPattern(t){this.searchModel.changePattern(t)}searchContains(t,e){let a=!1;const r=t.split(" ");for(const t of r)e.toLocaleLowerCase().includes(t.toLocaleLowerCase())&&(a=!0);return a}toggleCart(t){this.cartModel.toggle(t)}makeOrder(){localStorage.setItem("with.popup","1"),this.emmit("order.create")}}e.Model=h},322:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RouterModel=void 0;const r=a(686),o=a(295),s=a(926);e.RouterModel=class{setRoute(t){r.State.route=t}get route(){const t=new URL(r.State.route);let e={},a=[];const{host:o,origin:s}=t;return[a,e]=this.getSearchString(t,"search"),a.length||([a,e]=this.getSearchString(t,"pagination")),{host:o,origin:s,searchParams:e,searchString:a.join("&"),path:t.pathname.replace(r.State.deployPath,"/").split("/")}}getSearchString(t,e){const a=[],r={};let n=Object.values(s.SearchParams);"pagination"===e&&(n=Object.values(o.PaginationParams));for(const e of n){const o=t.searchParams.get(e);r[e]=o,o&&a.push(`${e}=${o}`)}return[a,r]}}},177:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SearchModel=void 0;const r=a(686);e.SearchModel=class{changePattern(t){r.State.search=t}getPattern(t){return t?decodeURIComponent(t):""}}},686:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.State=void 0,e.State={route:window.location.href,deployPath:"/online-shop",pagination:{perPage:5,currentPage:1},products:[],categories:[],brands:[],cart:[],cartStock:{},promo:[],search:"",price:{from:0,to:0,max:0},stock:{from:0,to:0,max:0},amount:{categories:{},brands:{},total:0},layout:"",sort:""}},386:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Card=void 0,function(t){t.DEFAULT="icon--default",t.AMERICAN_EXPRESS="icon--american-express",t.VISA="icon--visa",t.MASTERCARD="icon--mastercard"}(e.Card||(e.Card={}))},295:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PaginationParams=void 0,function(t){t.PER_PAGE="per",t.CURRENT_PAGE="page"}(e.PaginationParams||(e.PaginationParams={}))},828:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PROMO=void 0,function(t){t[t.RSS=10]="RSS",t[t.HOBBIE=20]="HOBBIE"}(e.PROMO||(e.PROMO={}))},102:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Routing=void 0,function(t){t.MAIN="/",t.CART="cart",t.PRODUCTS="product"}(e.Routing||(e.Routing={}))},926:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SearchParams=void 0,function(t){t.CATEGORY="category",t.BRAND="brand",t.PRICE="price",t.STOCK="stock",t.SORT="sort",t.SEARCH="search",t.LAYOUT="layout"}(e.SearchParams||(e.SearchParams={}))},743:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SortSettings=void 0,function(t){t.DEFAULT="default",t.PRICE_LOW_TO_HIGH="price-low-to-high",t.PRICE_HIGH_TO_LOW="price-high-to-low",t.RATING_HIGH_TO_LOW="rating-high-to-low",t.RATING_LOW_TO_HIGH="rating-low-to-high"}(e.SortSettings||(e.SortSettings={}))},898:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.headStyle=void 0,e.headStyle={clearHeadStyle(){var t;const e=document.getElementsByTagName("style");if(e)for(const a of e)null===(t=a.parentNode)||void 0===t||t.removeChild(a)},getHeadStyle:()=>document.head.appendChild(document.createElement("style"))}},758:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ModalWindow=void 0;e.ModalWindow=class{constructor(){this.overlay=this.createDomNode("div","overlay","overlay--modal"),this.modal=this.createDomNode("div","modal"),this.modalContent=this.createDomNode("div","modal__content"),this.modalCloseButton=this.createDomNode("span","modal__close-icon","icon","icon--close")}buildModal(t){this.setContent(t),this.appendModalElements(),this.bindCloseModalEvents(),this.openModal()}createDomNode(t,...e){const a=document.createElement(t);return a.classList.add(...e),a}setContent(t){this.modalContent.innerHTML="",this.modalContent.append(t)}appendModalElements(){this.modal.append(this.modalCloseButton),this.modal.append(this.modalContent),this.overlay.append(this.modal)}bindCloseModalEvents(){this.modalCloseButton.addEventListener("click",(t=>this.closeModal(t))),this.overlay.addEventListener("click",(t=>this.closeModal(t)))}openModal(){document.body.append(this.overlay),document.body.classList.add("body--scroll__disable")}closeModal(t){if(t){const e=t.target.classList;(e.contains("overlay")||e.contains("modal__close-icon"))&&this.removeModal()}}removeModal(){var t;null===(t=document.querySelector(".overlay"))||void 0===t||t.remove(),document.body.classList.remove("body--scroll__disable")}}},945:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Observer=void 0;e.Observer=class{constructor(){this.events={}}on(t,e){var a,r;null!==(a=(r=this.events)[t])&&void 0!==a||(r[t]=[]),this.events[t].push(e)}off(t){delete this.events[t]}emmit(t,e){if(this.events[t])for(const a of this.events[t])a(e)}}},580:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PopupWindow=void 0;e.PopupWindow=class{constructor(){this.popup=this.createDomNode("div","popup"),this.popupContent=this.createDomNode("div","popup__content")}buildPopup(t){this.setContent(t),this.appendPopupElements(),this.showPopup()}createDomNode(t,...e){const a=document.createElement(t);return a.classList.add(...e),a}setContent(t){this.popupContent.innerHTML="",this.popupContent.append(t)}appendPopupElements(){this.popup.append(this.popupContent)}showPopup(){document.body.append(this.popup),setTimeout((()=>{this.popup.classList.add("popup--show")}),1e3),setTimeout(this.closePopup,5e3)}closePopup(){const t=document.querySelector(".popup");null==t||t.classList.remove("popup--show"),null==t||t.addEventListener("transitionend",(()=>{var t;null===(t=document.querySelector(".popup"))||void 0===t||t.remove()}))}}},690:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RangeSlider=void 0;e.RangeSlider=class{constructor(t,e,a){this.model=t,this.controller=e,this.type=a,this.arrOfId=[`${this.type}-range-from`,`${this.type}-range-to`,`${this.type}-input-from`,`${this.type}-input-to`],this.wrapper=this.createDomNode("div","range-filter"),this.controls=this.createDomNode("div","range-filter__controls"),this.rangeControlFrom=this.createDomNode("input","range-filter__range"),this.rangeControlTo=this.createDomNode("input","range-filter__range"),this.values=this.createDomNode("div","range-filter__values"),this.rangeValueFrom=this.createDomNode("span","range-filter__value"),this.rangeValueTo=this.createDomNode("span","range-filter__value")}buildRangeSlider(){return this.initId(),this.initInputs(),this.initDefaultValues(),this.appendElements(),this.bindEvents(),this.fillColorBetween(),this.wrapper}createDomNode(t,e){const a=document.createElement(t);return a.classList.add(e),a}initId(){[this.rangeControlFrom.id,this.rangeControlTo.id,this.rangeValueFrom.id,this.rangeValueTo.id]=this.arrOfId}initInputs(){let t={max:100,from:50,to:80};"price"===this.type&&(t=this.model.priceRange),"stock"===this.type&&(t=this.model.stockRange);const{max:e,from:a,to:r}=t;this.rangeControlFrom.type="range",this.rangeControlFrom.min="0",this.rangeControlFrom.max=e.toString(),this.rangeControlFrom.value=a.toString(),this.rangeControlTo.type="range",this.rangeControlTo.min="0",this.rangeControlTo.max=e.toString(),this.rangeControlTo.value=r.toString()}initDefaultValues(){let t={max:100,from:50,to:80};"price"===this.type&&(t=this.model.priceRange),"stock"===this.type&&(t=this.model.stockRange);const{from:e,to:a}=t;this.rangeValueFrom.innerText=e.toString(),this.rangeValueTo.innerText=a.toString()}appendElements(){this.controls.append(this.rangeControlFrom,this.rangeControlTo),this.values.append(this.rangeValueFrom,this.rangeValueTo),this.wrapper.append(this.controls,this.values)}bindEvents(){this.rangeControlFrom.addEventListener("input",(()=>this.controlRangeFrom(parseInt(this.rangeControlFrom.value,10),parseInt(this.rangeControlTo.value,10)))),this.rangeControlTo.addEventListener("input",(()=>this.controlRangeTo(parseInt(this.rangeControlFrom.value,10),parseInt(this.rangeControlTo.value,10)))),this.rangeControlFrom.addEventListener("mouseup",(()=>{this.applyRange(parseInt(this.rangeControlFrom.value,10),parseInt(this.rangeControlTo.value,10))})),this.rangeControlTo.addEventListener("mouseup",(()=>{this.applyRange(parseInt(this.rangeControlFrom.value,10),parseInt(this.rangeControlTo.value,10))}))}applyRange(t,e){"price"===this.type&&this.controller.changeFilterPrice(t,e),"stock"===this.type&&this.controller.changeFilterStock(t,e)}controlRangeFrom(t,e){this.fillColorBetween(),t>e?[this.rangeControlFrom.value,this.rangeValueFrom.innerHTML]=[`${e}`,`${e}`]:this.rangeValueFrom.innerHTML=`${t}`}controlRangeTo(t,e){this.fillColorBetween(),t<=e?[this.rangeControlTo.value,this.rangeValueTo.innerHTML]=[`${e}`,`${e}`]:[this.rangeValueTo.innerHTML,this.rangeControlTo.value]=[`${t}`,`${t}`]}fillColorBetween(){const t=parseInt(this.rangeControlFrom.max)-parseInt(this.rangeControlTo.min),e=parseInt(this.rangeControlFrom.value)-parseInt(this.rangeControlTo.min),a=parseInt(this.rangeControlTo.value)-parseInt(this.rangeControlTo.min);this.rangeControlTo.style.background=`linear-gradient(\n      to right, #C6C6C6 0%,\n      #C6C6C6 ${e/t*100}%,\n      #976464 ${e/t*100}%,\n      #976464 ${a/t*100}%,\n      #C6C6C6 ${a/t*100}%,\n      #C6C6C6 100%)`}}},788:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=void 0,e.Utils={actions:{},addEvent(t,e,a){const r="string"==typeof t?this.id(t):t,o=t=>a(t),s=`${r.className}-${e}-${a}`;this.actions[s]&&r.removeEventListener(e,this.actions[s]),r.addEventListener(e,o,{passive:!0}),this.actions[s]=o},id(t){const e=document.querySelectorAll(t);for(const t of e)t.css=e=>(e?t.setAttribute("style",e):t.removeAttribute("style"),t),t.html=e=>(t.innerHTML=e,t),t.clear=()=>{for(;t.firstChild;)t.removeChild(t.firstChild);return t},t.class=(e,a=!1)=>(t.classList[a?"remove":"add"](e),t);return 1===e.length?e[0]:e.length?e:null},ids(t){const e=document.querySelectorAll(t);return e.length?e:null},create(t="",e="div"){const a=document.createElement(e);return a.className=t,a}}},935:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CartListView=void 0;const r=a(788);e.CartListView=class{constructor(t,e){this.controller=t,this.model=e}render(t){t.innerHTML="";const e=r.Utils.create("cart-section__shopping shopping","div");this.fill(e),t.append(e),this.addHandlers(),this.addLocalHandlers()}fill(t){t.append(this.addTitle()),this.fillTable(t)}addTitle(){const t=r.Utils.create("shopping__title title","h2");return t.innerText="Ostoskori",t}fillTable(t){t.innerHTML="";const e=r.Utils.create("shopping__table shopping-table","table");let a="";a+=this.addTableHead(),a+=this.addTableBody(),a+=this.addTableFooter(),e.innerHTML=a,t.append(e)}addTableHead(){return'<thead class="shopping-table__head">\n                                    <tr class="shopping-table__head-row">\n                                        <th>№</th>\n                                        <th>Kuva</th>\n                                        <th>Nimi</th>\n                                        <th>Luokka </th>\n                                        <th>Brändi</th>\n                                        <th>Hinta</th>\n                                        <th>Myymäläsaatavuus</th>\n                                        <th>Lukumäärä</th>\n                                        <th>Summa</th>\n                                    </tr>\n                                </thead>'}addTableBody(){const{perPage:t,currentPage:e}=this.model.pagination;let a='<tbody class="shopping-table__body">',r=1;return this.model.cartItems.forEach(((o,s)=>{Math.ceil((s+1)/t)===e&&(a+=`\n        <tr class="shopping-table__body-row table-item" id="cart-product-${o.id}">\n          <td>\n              <span class="table-item__number">${r}</span>\n          </td>\n          <td>\n              <div class="table-item__img">\n                  <img src="${o.thumbnail}" alt="Product photo">\n              </div>\n          </td>\n          <td>\n              <div class="table-item__product">\n                  <span class="table-item__title">${o.title}</span>\n              </div>\n          </td>\n          <td>\n              <span class="table-item__category">${o.category.name}</span>\n          </td>\n          <td>\n              <span class="table-item__brand">${o.brand.name}</span>\n          </td>\n          <td class="table-item__price-td">\n              <span class="table-item__price table-item__price--default">${o.price} €</span>\n          </td>\n          <td>\n              <span class="table-item__stock">${o.stock-o.stockUsed} шт.</span>\n          </td>\n          <td>\n              <div class="table-item__quantity">\n                  <button class="button button--quantity button--quantity-minus" data-id="${o.id}">-</button>\n                  <span class="table-item__input" id="input">${o.stockUsed}</span>\n                  <button class="button button--quantity button--quantity-plus" data-id="${o.id}">+</button>\n              </div>\n          </td>\n\n          <td class="table-item__amount-td">\n              <span class="table-item__amount" id="amount">${o.price*o.stockUsed} €</span>\n          </td>\n      </tr>`),r++})),a+="</tbody>",a}addTableFooter(){const{perPage:t,currentPage:e}=this.model.pagination;return`\n      <tfoot class="shopping-table__footer">\n          <tr class="shopping-table__footer-row">\n              <td colspan="4">\n                  <div class="table-item__items-on-page items-on-page">\n                      <label class="items-on-page__label" for="items-on-page">Tavarat sivulla</label>\n                      <input class="items-on-page__input" type="number" min=1 value="${t}" maxlength="4" id="items-on-page">\n                  </div>\n              </td>\n              <td colspan="1">\n                  <div class="table-item__pages">\n                      <button class="button button--page" id="page-back">\n                          <span class="icon icon--arrow-left"></span>\n                      </button>\n                      <span class="table-item__page">${e}</span>\n                      <button class="button button--page" id="page-forward">\n                          <span class="icon icon--arrow-right"></span>\n                      </button>\n                  </div>\n              </td>\n              <td colspan="2"></td>\n              <td colspan="2" align="right">\n                  <div class="table-item__button-reset">\n                      <button class="button button--cart-reset" id="cart-reset">Poista ostoskori</button>\n                  </div>\n              </td>\n          </tr>\n      </tfoot>`}addHandlers(){const t=r.Utils.id("#cart-reset");null!==t&&r.Utils.addEvent(t,"click",(()=>{this.controller.resetCart()}))}addLocalHandlers(){const t=r.Utils.ids(".button--quantity-minus"),e=r.Utils.ids(".button--quantity-plus");if(null!==t)for(const e of t)r.Utils.addEvent(e,"click",(()=>{this.controller.changeQantity(+e.dataset.id,-1)}));if(null!==e)for(const t of e)r.Utils.addEvent(t,"click",(()=>{this.controller.changeQantity(+t.dataset.id,1)}));const a=r.Utils.id("#page-back"),o=r.Utils.id("#page-forward"),s=r.Utils.id(".items-on-page__input");null!==a&&r.Utils.addEvent(a,"click",(()=>{this.controller.switchPage(-1)})),null!==o&&r.Utils.addEvent(o,"click",(()=>{this.controller.switchPage(1)})),null!==s&&r.Utils.addEvent(s,"blur",(()=>{let t=+s.value;t<=0&&(s.value="1",t=1),this.controller.applyPerPage(t)}))}}},515:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CartTotalView=void 0;const r=a(828),o=a(788);e.CartTotalView=class{constructor(t,e){this.controller=t,this.model=e}render(t){const e=o.Utils.create("cart-section__total-bill cart-total","div"),a=o.Utils.create("cart-total__wrapper","div");this.fill(a),e.append(a),t.append(e),this.addHandlers()}fill(t){let e="";e+=this.addTitle(),e+=this.addCartTotalContent(),t.innerHTML=e}addTitle(){return'<h4 class="cart-total__title title">Tilauksen tiedot</h4>'}addCartTotalContent(){let t='<div class="cart-total__content">';return t+=this.addCartStockTotal(),t+=this.addPromoCode(),t+=this.addCartPriceTotal(),t+=this.addCartOrderButton(),t+="</div>",t}addCartStockTotal(){return`<div class="cart-total__line">\n                <span class="cart-total__line-text">Määrä</span>\n                <span class="cart-total__line-dashes"></span>\n                <span class="cart-total__line-value">${this.model.cartStockTotal}шт.</span>\n            </div>`}addPromoCode(){const t=[];for(const e of this.model.promo)t.push(`\n        <div class="cart-total__line">\n          <span class="cart-total__line-text">${e}</span>\n          <span class="cart-total__line-value opacified">[${r.PROMO[e]}%]</span>\n          <span class="cart-total__line-dashes"></span>\n          <span class="icon icon--close" data-id="${e}"></span>\n        </div>\n      `);return`\n      <div class="cart-total__promo-code promo-code">\n          <div class="cart-total__line">\n              <span class="cart-total__line-text">Promokoodi</span>\n              <span class="cart-total__line-dashes"></span>\n              <span class="cart-total__line-value">RSS, HOBBIE</span>\n          </div>\n\n\n          <div class="promo-code__input">\n              <input class="promo-code__text" type="text" id="promo-input" placeholder="Lisää promokoodi">\n              <input class="promo-code__button promo-code__button-disabled" type="submit" value="Soveltaa">\n          </div>\n\n          <div class="promo-code__applied">${t.join("")}</div>\n      </div>`}addCartPriceTotal(){const t=!!this.model.promo.length,e=this.model.totalDiscounted!==this.model.totalPrice,a=t?(this.model.totalDiscounted-this.model.totalDiscounted*this.model.promo.reduce(((t,e)=>t+=r.PROMO[e]/100),0)).toFixed(2):this.model.totalDiscounted;return`<div class="cart-total__line cart-total__default-sum">\n                <span class="cart-total__line-text cart-total__default-sum-text">Yhdessa</span>\n                <span class="cart-total__line-dashes"></span>\n                <span class="cart-total__line-value cart-total__default-sum-value${t||e?"":" cart-total__default-sum-alone"}">${this.model.totalPrice}€</span>\n            </div>`+(t||e?`<div class="cart-total__line cart-total__discount-sum">\n                <span class="cart-total__line-text cart-total__discount-sum-text">Alennuksella </span>\n                <span class="cart-total__line-dashes"></span>\n                <span class="cart-total__line-value cart-total__discount-sum-value">${a}€</span>\n            </div>`:"")}addCartOrderButton(){return'<div class="cart-total__button">\n                <button class="button button--colored" id="order">Ostaa</button>\n            </div>'}addHandlers(){const t=o.Utils.id(".promo-code__button"),e=o.Utils.ids(".icon--close"),a=o.Utils.id("#order"),r=o.Utils.id("#promo-input");if(null!==r&&o.Utils.addEvent(r,"keyup",(()=>{const e=this.controller.verifyPromo(o.Utils.id("#promo-input").value);t.class("promo-code__button-disabled",e)})),null!==t&&o.Utils.addEvent(t,"click",(()=>{this.controller.applyPromo(o.Utils.id("#promo-input").value)})),null!==e)for(const t of e)o.Utils.addEvent(t,"click",(()=>{this.controller.removePromo(t.dataset.id)}));null!==a&&o.Utils.addEvent(a,"click",(()=>{this.controller.makeOrder()}))}}},669:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CartView=void 0;const r=a(788),o=a(935),s=a(515),n=a(552);e.CartView=class{constructor(t,e,a,i){this.controller=t,this.model=e,this.root=a,this.onCartUpdate=i,this.breadcrumbsNav=r.Utils.create("breadcrumbs-nav","div"),this.cartWrapper=r.Utils.create("cart-wrapper","div"),this.cartList=new o.CartListView(this.controller,this.model),this.cartTotal=new s.CartTotalView(this.controller,this.model),this.purchaseModal=new n.OrderModalView(this.controller,this.model),this.cartRoot=r.Utils.create("cart-section","section"),this.addListeners()}hasProductsOnPage(){let t=!1;const{perPage:e,currentPage:a}=this.model.pagination;return this.model.cartItems.forEach(((r,o)=>{Math.ceil((o+1)/e)===a&&(t=!0)})),t}addListeners(){const t=()=>{this.hasProductsOnPage()?(this.cartList.render(this.cartRoot),this.cartTotal.render(this.cartRoot),this.onCartUpdate(this.model.cartStockTotal,this.model.totalPrice,this.model.totalDiscounted)):this.controller.switchPage(-1)};this.model.on("cart.reset",(()=>this.render())),this.model.on("cart.update",t),window.addEventListener("storage",(()=>{this.model.initState(),this.controller.applyCart(),t()})),this.model.on("order.create",(()=>this.renderPurchaseModal())),this.model.on("cart.null",(()=>this.render()))}render(){this.root.html(""),this.model.cartIds.length?(this.fillBreadcrumbsNav(),this.cartWrapper.append(this.breadcrumbsNav,this.cartRoot),this.root.append(this.cartWrapper),this.renderPurchaseModal()):this.fillNoProducts(),this.controller.applyCart()}fillNoProducts(){const t=r.Utils.create("cart-section","div");t.innerText=" Ostoskorissa ei ole tuotteita, siirry pääsivulle lisätäksesi ne",t.style.justifyContent="center",this.root.append(t)}fillBreadcrumbsNav(){this.breadcrumbsNav.innerHTML='\n      <ul class="breadcrumbs-nav__list">\n        <li class="breadcrumbs-nav__item"><a class="bread__link" href="/">Pääsivu</a></li>\n        <li class="breadcrumbs-nav__item"><a href="#" onClick="return(false);">Ostoskori</a></li>\n      </ul>'}renderPurchaseModal(){localStorage.getItem("with.popup")&&(this.purchaseModal.render(),localStorage.removeItem("with.popup"))}}},552:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OrderModalView=void 0;const r=a(758),o=a(788),s=a(386),n=a(580);e.OrderModalView=class{constructor(t,e){this.controller=t,this.model=e,this.modal=new r.ModalWindow}render(){const t=o.Utils.create("order","div");this.fill(t),this.modal.buildModal(t),this.addHandlers()}fill(t){let e="";e+=this.addTitle(),e+=this.addOrderForm(),t.innerHTML=e}addTitle(){return'<h3 class="order__title title">Данные для доставки</h3>'}addOrderForm(){return'<form class=\'order__form order-form\' id="order-form">\n                       <div class="order-form__row">\n                               <label for="full-name" class="order-form__label">\n                                   <span class="order-form__text">\n                                       Имя и фамилия\n                                       <span class="order-form__required">*</span>\n                                   </span>\n                                   <input type=\'text\' id="full-name" class=\'order-form__input\' placeholder="Иван Иванов" required>\n                               </label>\n                       </div>\n                       <div class="order-form__column">\n                           <div class="order-form__row">\n                               <label for="phone-number" class="order-form__label">\n                                   <span class="order-form__text">\n                                       Телефон\n                                       <span class="order-form__required">*</span>\n                                   </span>\n                                   <input type=\'text\' id="phone-number" class=\'order-form__input\' placeholder="(123) 456-78-90" required>\n                               </label>\n                           </div>\n                           <div class="order-form__row">\n                               <label for="email" class="order-form__label">\n                                   <span class="order-form__text">\n                                       Email\n                                       <span class="order-form__required">*</span>\n                                   </span>\n                                   <input type=\'email\' id="email" placeholder="name@email.com" class=\'order-form__input\' required>\n                               </label>\n                           </div>\n                       </div>\n                       <div class="order-form__row">\n                           <label for="address" class="order-form__label">\n                               <span class="order-form__text">\n                                   Адрес доставки\n                                   <span class="order-form__required">*</span>\n                               </span>\n                               <input type=\'text\' id="address" class=\'order-form__input\' placeholder="г. Санкт-Петербург" required>\n                           </label>\n                       </div>\n                       <div class="order-form__row card">\n                           <div class="card__content">\n                               <div class="card__row">\n                                   <label for="card-number" class="card__label">\n                                       <span class="card__text">Номер карты</span>\n                                       <input type=\'tel\' id="card-number" class=\'card__input\' placeholder=\'1234 5678 9123 4567\' maxlength="19" required>\n                                   </label>\n\n                                   <div class="card__logo">\n                                       <span class="icon icon--default"></span>\n                                   </div>\n                               </div>\n                               <label for="card-cardholder" class="card__label">\n                                   <span class="card__text">Владелец</span>\n                                   <input type=\'text\' id="card-cardholder" class=\'card__input\' placeholder="IVAN IVANOV" size="20" required>\n                               </label>\n                               <div class="card__row">\n                                   <label for="card-exp-month" class="card__label">\n                                       <span class="card__text">Действительна до</span>\n                                       <span class="card__input-columns">\n                                           <input type=\'text\' id="card-exp-month" class=\'card__input\' placeholder="00" maxlength="2" size="2" required>\n                                           <span>/</span>\n                                           <input type=\'text\' id="card-exp-year" class=\'card__input\' placeholder="00" maxlength="2" size="2" required>\n                                       </span>\n                                   </label>\n                                   <label for="card-cvc" class="card__label">\n                                       <span class="card__text">CVC</span>\n                                       <input type=\'text\' id="card-cvc" class=\'card__input\' placeholder="000" maxlength="3" size="3" required>\n                                   </label>\n                               </div>\n                           </div>\n                       </div>\n                       <input type=\'submit\' class=\'order-form__button\' value=\'Подтвердить\'>\n                   </form>'}addHandlers(){this.addCardFieldsHandlers(),this.addOrderFieldsHandlers(),this.addSubmitHandler()}addOrderFieldsHandlers(){o.Utils.addEvent("#full-name","input",(t=>this.handleTextValidation(t))),o.Utils.addEvent("#phone-number","input",(t=>this.convertPhoneNumber(t))),o.Utils.addEvent("#full-name","focusout",(t=>this.handleFullNameValidation(t))),o.Utils.addEvent("#email","focusout",(t=>this.handleEmailValidation(t))),o.Utils.addEvent("#phone-number","focusout",(t=>this.handlePhoneValidation(t))),o.Utils.addEvent("#address","focusout",(t=>this.handleAddressValidation(t)))}addCardFieldsHandlers(){const t=o.Utils.id(".card__logo .icon");o.Utils.addEvent("#card-number","focusout",(t=>this.handleCardNumberValidation(t))),o.Utils.addEvent("#card-number","input",(e=>this.convertCardNumber(e,t))),o.Utils.addEvent("#card-cardholder","focusout",(t=>this.handleCardholderNameValidation(t))),o.Utils.addEvent("#card-cardholder","input",(t=>{this.handleTextValidation(t),this.convertCardholderName(t)})),o.Utils.addEvent("#card-exp-month","focusout",(t=>this.handleCardExpMonthValidation(t))),o.Utils.addEvent("#card-exp-month","input",(t=>this.handleNumberValidation(t))),o.Utils.addEvent("#card-exp-year","focusout",(t=>this.handleCardExpYearValidation(t))),o.Utils.addEvent("#card-exp-year","input",(t=>this.handleNumberValidation(t))),o.Utils.addEvent("#card-cvc","focusout",(t=>this.handleCardCvcValidation(t))),o.Utils.addEvent("#card-cvc","input",(t=>this.handleNumberValidation(t)))}addSubmitHandler(){const t=document.querySelector("#order-form");null==t||t.addEventListener("submit",(t=>{t.preventDefault();document.querySelectorAll(".error").length?this.addErrorPopup():(this.addOrderPopup(),setTimeout((()=>{this.modal.removeModal(),this.controller.resetCart(),this.controller.route(this.model.route.origin)}),2e3))}))}addErrorPopup(){const t=o.Utils.create("error-popup","div");t.innerHTML="Пожалуйста, проверьте правильность введенных данных и повторите попытку.";(new n.PopupWindow).buildPopup(t)}addOrderPopup(){const t=o.Utils.create("order-popup","div");t.innerHTML="Заказ успешно оформлен! Спасибо за покупку!";(new n.PopupWindow).buildPopup(t)}handleTextValidation(t){const e=t.target;e.value=e.value.replace(/[^A-Za-zА-Яа-я\s]/g,"")}handleNumberValidation(t){const e=/\D/g,a=t.target;a.value.length&&(a.value=a.value.replace(e,""))}convertPhoneNumber(t){const e=t.target;let a=e.value;if(e.value.length){a=e.value.replace(/[-+\s.( )]/g,"");const t=a.match(/(\d?)(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);t[3]?e.value="+"+t[1]+" ("+t[2]+") "+t[3]+(t[4]?"-"+t[4]:"")+(t[5]?"-"+t[5]:""):e.value="+"+t[1]+(t[2]?t[2]:"")}}convertCardNumber(t,e){const a=t.target;switch(a.value.length&&(a.value=a.value.replace(/\D/g,"")),a.value.length>=4&&(a.value=a.value.match(/.{1,4}/g).join(" ")),e.className=`${s.Card.DEFAULT}`,a.value[0]){case"3":e.classList.add(`${s.Card.AMERICAN_EXPRESS}`);break;case"4":e.classList.add(`${s.Card.VISA}`);break;case"5":e.classList.add(`${s.Card.MASTERCARD}`);break;default:e.classList.add(`${s.Card.DEFAULT}`)}}convertCardholderName(t){const e=t.target;e.value.length&&(e.value=e.value.toUpperCase())}handleFullNameValidation(t){const e=t.target;this.removeErrorMessage(e),/^[А-Яа-я]{3,} [А-Яа-я]{3,}/.test(e.value)?this.addCorrectMessage(e):this.addErrorMessage(e,"Два слова, каждое не менее 3 букв (русская раскладка)")}handleEmailValidation(t){const e=t.target;this.removeErrorMessage(e),/^[\w-]+@([\w-]+\.)+[\w-]{2,4}$/.test(e.value)?this.addCorrectMessage(e):this.addErrorMessage(e,"Попробуйте еще раз")}handlePhoneValidation(t){const e=t.target;this.removeErrorMessage(e),/^(\+(\d{0,3})) (\((\d{0,3})\)) (\d{0,3})-(\d{0,2})-(\d{0,2})/gm.test(e.value)?this.addCorrectMessage(e):this.addErrorMessage(e,"Попробуйте еще раз")}handleAddressValidation(t){const e=t.target;this.removeErrorMessage(e),/^[А-Яа-я.-]{5,} [А-Яа-я]{5,} [А-Яа-я]{5,}/.test(e.value)?this.addCorrectMessage(e):this.addErrorMessage(e,"Три слова, каждое не менее 5 букв (русская раскладка)")}handleCardNumberValidation(t){const e=t.target;this.removeErrorMessage(e),/(\d{4}) (\d{4}) (\d{4}) (\d{4})/.test(e.value)?this.addCorrectMessage(e):this.addErrorMessage(e,"16 цифр")}handleCardholderNameValidation(t){const e=t.target;this.removeErrorMessage(e),/([A-Z]+) ([A-Z]+)/.test(e.value)?this.addCorrectMessage(e):this.addErrorMessage(e,"Как указано на карте")}handleCardExpMonthValidation(t){const e=t.target;this.removeCardErrorMessage(e),/(0[1-9]|1[0-2])/.test(e.value)||this.addCardErrorMessage(e)}handleCardExpYearValidation(t){const e=t.target;this.removeCardErrorMessage(e),/(2[2-9]|3[0-9]|4[0-9]|5[0-9]|6[0-9]|7[0-9]|8[0-9]|9[0-9])/.test(e.value)||this.addCardErrorMessage(e)}handleCardCvcValidation(t){const e=t.target;this.removeCardErrorMessage(e),/[0-9]{3}/.test(e.value)||this.addCardErrorMessage(e)}addErrorMessage(t,e){var a;t.style.borderColor="red";const r=o.Utils.create("error","span");r.style.color="red",r.style.paddingLeft="5px",r.style.fontSize="1.2rem",r.innerHTML=e,null===(a=t.previousElementSibling)||void 0===a||a.append(r)}removeErrorMessage(t){var e;const a=null===(e=t.previousElementSibling)||void 0===e?void 0:e.querySelector(".error");null==a||a.remove()}addCorrectMessage(t){t.style.borderColor="green"}addCardErrorMessage(t){t.classList.add("error"),t.style.color="red"}removeCardErrorMessage(t){t.classList.remove("error"),t.style.color=""}}},104:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;const r=a(788),o=a(102),s=a(950),n=a(277),i=a(669),l=a(112);e.View=class{constructor(t,e){this.controller=t,this.model=e,this.root=r.Utils.id("#root"),this.addListeners(),this.renderHeader(),this.renderContent(),this.renderFooter(),this.initBurgerMenu();const a=r.Utils.id(".main__wrapper"),o=(t,e,a)=>this.updateCart(t,e,a);this.productView=new s.ProductView(this.controller,this.model,a,o),this.mainView=new n.MainView(this.controller,this.model,a,o),this.cartView=new i.CartView(this.controller,this.model,a,o),this.checkRestoreRoute(),this.addHandlers()}checkRestoreRoute(){const t=localStorage.getItem("restore");if(t)return localStorage.removeItem("restore"),this.controller.route(t),void(t.indexOf("/cart")>0&&(this.model.initState(),this.cartView.render()));this.renderRoute()}addHandlers(){for(const t of r.Utils.id(".nav__link"))t.addEventListener("click",(e=>{this.controller.route(t.href,e)}))}addListeners(){window.addEventListener("popstate",(()=>{this.controller.updateRoute(window.location.href)})),this.model.on("route",(()=>{this.renderRoute()}))}renderRoute(){const t=this.model.route,[,e,a]=t.path;switch(e){case"":case o.Routing.MAIN:this.mainView.render();break;case o.Routing.CART:this.cartView.render();break;case o.Routing.PRODUCTS:this.productView.render(a)}}updateCart(t,e,a){const o=r.Utils.id(".cart__total-value"),s=r.Utils.id(".cart__total-price");o.html(t?t.toString():"").parentElement.parentElement.setAttribute("style",t?"":"display: none;");const n=e===a?`<b>${e.toString()}€</b>`:`<span>${e.toString()}€</span><b>${a.toString()}€</b>`;s.html(e?n:"")}renderHeader(){const t=r.Utils.create("header","header");t.innerHTML=`\n            <div class="wrapper header__wrapper">\n                <a href="/" class="header__logo logo nav__link"><img src="${l}" alt="Hobbies Art Logo"></a>\n                            \n                <nav class="header__nav nav">\n                    <ul class="nav__list">\n                        <li class="nav__item main-link"><a href="/" class="nav__link">Pääsivu</a></li>\n                        <li class="nav__item cart">\n                            <a href="/cart" class="nav__link cart__link">\n                                <div class="cart__total-price"></div>\n                                <div class="cart__wrapper">\n                                    <div class="cart__content">\n                                        <span class="icon icon--cart"></span>\n                                        <p class="cart__text">Ostoskori</p>\n                                        <div class="cart__total">\n                                            <div class="icon-circle icon-circle--sec-color">\n                                                <span class="cart__total-value"></span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                    </ul>\n                    <div class="header__close-button close-button">\n                        <span class="icon icon--close"></span>\n                    </div>\n                </nav>\n                \n                <div class="header__button burger-button">\n                  <span class="icon icon--burger"></span>\n                </div>\n            </div>\n    `,this.root.append(t)}renderContent(){const t=r.Utils.create("main","main"),e=r.Utils.create("main__wrapper wrapper","div");t.append(e),this.root.append(t)}renderFooter(){const t=r.Utils.create("footer","footer");t.innerHTML='\n            <footer class="footer">\n            <div class="footer__wrapper wrapper">\n                <div class="footer__gh gh">\n                    <a class="gh__link" href="https://github.com/Aliona4"><span class="icon icon--gh-face"></a>\n                    <a class="gh__link" href="https://github.com/Aliona4"><span class="icon icon--gh"></a>\n                </div>\n                <div class="footer__text">\n                  <span>Aliona Anisimava / Business College Helsinki</span>\n                  <span>2022</span>\n                </div>\n                <div class="footer__rss rss">\n                    <a class="rss__link" href=""><span class="icon icon--rss"></a>\n                </div>\n            </div>\n        </footer>\n    ',this.root.append(t)}initBurgerMenu(){const t=document.querySelector(".nav"),e=r.Utils.create("overlay","div"),a=()=>{document.body.removeChild(e),null==t||t.classList.remove("nav--show"),document.body.classList.remove("body--scroll__disable")};r.Utils.addEvent(".burger-button","click",(()=>{null==t||t.classList.add("nav--show"),document.body.classList.add("body--scroll__disable"),document.body.append(e);for(const t of r.Utils.id(".nav__item"))r.Utils.addEvent(t,"click",(()=>a()))})),r.Utils.addEvent(".nav","click",(t=>{const e=t.target;(e.classList.contains("nav")||e.classList.contains("icon--close"))&&a()}))}}},359:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FilterView=void 0;const r=a(788),o=a(690);e.FilterView=class{constructor(t,e){this.controller=t,this.model=e}render(t){const e=r.Utils.create("filter","section");t.innerHTML="",t.append(e),this.fill()}fill(){this.fillFilters(),this.insertSliders(),this.addHandlers()}fillFilters(){let t="";this.model.categories.length&&(t+=this.addCategories()),this.model.brands.length&&(t+=this.addBrands()),t+=this.addFilters(),r.Utils.id(".filter").html(`<div class="filter__wrapper">${t}</div>`)}addFilters(){return`\n      <div class="filter__close-button close-button">\n        <span class="icon icon--close"></span>\n      </div>\n      <div class="filter__price price-filter ">\n        <div class="price-filter__wrapper">\n            <h3 class="price-filter__title title">Hinta</h3>\n        </div>\n      </div>\n\n      <div class="filter__stock stock-filter">\n        <div class="stock-filter__wrapper">\n            <h3 class="stock-filter__title title">Myymäläsaatavilla</h3>\n        </div>\n      </div>\n\n      <div class="filter__total-products total-products">\n        <span class="total-products__text">Tuotteita löytyi:</span>\n        <span class="total-products__value" id="total-products">${this.model.amount.total}</span>\n      </div>\n      \n      <div class="filter__buttons">\n        <button class="button button--rounded button--bordered" id="button-reset">Poistaa</button>\n        <button class="button button--rounded button--bordered" id="button-copy">Kopio</button>\n      </div>\n    `}addCategories(){let t='\n      <div class="filter__categories categories-filter">\n        <h3 class="categories-filter__title title">Luokka</h3>\n        <ul class="categories-filter__list filter-list">\n    ';return this.model.categories.forEach((({id:e,checked:a,name:r})=>{t+=`\n          <li class="categories-filter__item filter-list__item">\n            <input \n              type="checkbox" \n              class="filter-list__item-check filter__categorie-item" \n              data-id="${e}"\n              id="categories-${e}"\n              ${a?"checked":""}\n            >\n            <label \n              class="filter-list__item-label" \n              for="categories-${e}">\n              <span class="filter-list__item-name">${r}</span>\n              <span class="filter-list__item-amount">(${this.model.amount.categories[e]||"0"})</span>\n            </label>\n          </li>`})),t+="\n        </ul>\n      </div>\n    ",t}addBrands(){let t='\n      <div class="filter__brands brands-filter">\n        <h3 class="brands-filter__title title">Brändi</h3>\n        <ul class="brands-filter__list filter-list">\n    ';return this.model.brands.forEach((({id:e,checked:a,name:r})=>{t+=`\n          <li class="brands-filter__item filter-list__item">\n            <input \n              type="checkbox" \n              class="filter-list__item-check filter__brand-item" \n              data-id="${e}"\n              id="brands-${e}" \n              ${a?"checked":""}\n            >\n            <label \n              class="filter-list__item-label" \n              for="brands-${e}">\n              <span class="filter-list__item-name">${r}</span>\n              <span class="filter-list__item-amount">(${this.model.amount.brands[e]||"0"})</span>\n            </label>\n          </li>`})),t+="\n        </ul>\n      </div>\n    ",t}insertSliders(){const t=r.Utils.id(".price-filter__wrapper");t.html('<h3 class="price-filter__title title">Hinta</h3>');const e=new o.RangeSlider(this.model,this.controller,"price");t.append(e.buildRangeSlider());const a=r.Utils.id(".stock-filter__wrapper");a.html('<h3 class="price-filter__title title">Myymäläsaatavuus</h3>');const s=new o.RangeSlider(this.model,this.controller,"stock");a.append(s.buildRangeSlider())}addHandlers(){for(const t of r.Utils.id(".filter__categorie-item"))r.Utils.addEvent(t,"click",(()=>this.controller.changeFilterCategory(t.checked,+t.dataset.id)));for(const t of r.Utils.id(".filter__brand-item"))r.Utils.addEvent(t,"click",(()=>this.controller.changeFilterBrand(t.checked,+t.dataset.id)));r.Utils.addEvent("#button-reset","click",(()=>{this.controller.resetFilter(),this.fill()})),r.Utils.addEvent("#button-copy","click",(t=>{const e=t.target;e.classList.add("button--copy-clicked");const a=e.innerText;e.innerText="Linkki kopioitu!",e.addEventListener("transitionend",(function(){this.innerText=a,this.classList.remove("button--copy-clicked")})),navigator.clipboard.writeText(window.location.href)}))}}},92:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GridLayoutView=void 0;const r=a(788);e.GridLayoutView=class{constructor(t,e){this.controller=t,this.model=e}render(t){const e=r.Utils.create("head-controls__layouts layouts","div");t.append(e),this.fill(e)}fill(t){this.fillRadioInputs(t),this.addHandlers(t)}fillRadioInputs(t){const e=this.generateRadioInput("rows"),a=this.generateRadioInput("columns");t.append(e,a)}generateRadioInput(t){const e=r.Utils.create("","label");e.setAttribute("for",`${t}`);const a=r.Utils.create("layouts__radio","input");a.type="radio",a.name="layout",a.id=`${t}`,this.model.layout===t&&(a.checked=!0);const o=r.Utils.create(`icon icon--${t}`,"span");return e.append(a,o),e}addHandlers(t){t.addEventListener("click",(t=>{const e=t.target;if("INPUT"!==e.tagName)return;const a=document.querySelector(".products__wrapper");null==a||a.classList.replace(`layout-${this.model.layout}`,`layout-${e.id}`),this.controller.changeLayout(e.id)}))}}},307:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.HeadControlsView=void 0;const r=a(788),o=a(92),s=a(559),n=a(887);e.HeadControlsView=class{constructor(t,e){this.controller=t,this.model=e,this.gridLayout=new o.GridLayoutView(this.controller,this.model),this.sortBy=new n.SortByView(this.controller,this.model),this.search=new s.SearchView(this.controller,this.model)}render(t){t.innerHTML="";const e=r.Utils.create("head-controls__wrapper","div");this.gridLayout.render(e),this.search.render(e),this.sortBy.render(e),this.fillFilterButton(e),t.append(e)}fillFilterButton(t){const e=r.Utils.create("button button--bordered filter__button","button");e.innerText="Filteri",t.append(e),this.addFilterHandler(e)}addFilterHandler(t){null==t||t.addEventListener("click",(t=>{const e=document.querySelector(".filter"),a=t.target;null==e||e.classList.add("filter--show"),console.log(a),r.Utils.addEvent(".filter","click",(t=>{t.target.classList.contains("icon--close")&&(null==e||e.classList.remove("filter--show"))}))}))}}},277:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MainView=void 0;const r=a(788),o=a(359),s=a(358),n=a(307);e.MainView=class{constructor(t,e,a,i){this.controller=t,this.model=e,this.root=a,this.onCartUpdate=i,this.filters=new o.FilterView(this.controller,this.model),this.headControls=new n.HeadControlsView(this.controller,this.model),this.productsList=new s.ProductsView(this.controller,this.model),this.productsRoot=r.Utils.create("products","section"),this.headControlsRoot=r.Utils.create("head-controls","section"),this.rightSideWrapper=r.Utils.create("main__right-side","div"),this.leftSideWrapper=r.Utils.create("main__left-side","div"),this.addListeners()}addListeners(){const t=()=>{this.productsList.render(this.model.products,this.model.layout,this.productsRoot),this.filters.render(this.leftSideWrapper)},e=()=>{const t=this.model.cartIds;this.productsList.applyCart(t),this.onCartUpdate(this.model.cartStockTotal,this.model.totalPrice,this.model.totalDiscounted)};this.model.on("filter.update",t),this.model.on("controls.update",t),this.model.on("search.update",t),this.model.on("cart.update",e),window.addEventListener("storage",(()=>{this.model.initState(),this.controller.applyCart(),e()}))}render(){this.root.html(""),this.headControls.render(this.headControlsRoot),this.rightSideWrapper.append(this.headControlsRoot,this.productsRoot),this.root.append(this.leftSideWrapper,this.rightSideWrapper),this.controller.applyFilters(),this.controller.applyControls(),this.controller.applyCart()}}},358:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProductsView=void 0;const r=a(788),o=a(898);e.ProductsView=class{constructor(t,e){this.controller=t,this.model=e}render(t,e,a){let s=0;a.innerHTML="",o.headStyle.clearHeadStyle();const n=o.headStyle.getHeadStyle(),i=r.Utils.create(`products__wrapper layout-${e}`,"div");t.forEach((({id:t,title:e,price:a,discountPercentage:r,stockUsed:o,brand:l,rating:c,stock:d,category:u,thumbnail:p,show:h,cart:m})=>{let g="";const f=m?" Poista ostoskorista":"Lisää ostoskoriin";if(h){const n=!r;g+=`\n          <a href="/product/${t}" class="${"products__item product-item"+(m?" product-item--carted":"")}" data-id=${t} id="product-${t}">\n            <div class="product-item__img">\n                <img src="${p}" alt="Product Item">\n            </div>\n            <div class="product-item__content">\n                <h4 class="product-item__title title">${e}</h4>\n                \n                <div class="product-item__info">\n                    <div class="product-item__desc">\n                        <span class="product-item__category">\n                            ${u.name}\n                        </span>\n                        <span class="product-item__brand">\n                            Brändi: ${l.name}\n                        </span>\n                        <span class="product-item__stock">\n                            Saatavilla: <span class="info-list__value">${d-o}</span>\n                        </span>\n                    </div>\n                    <div class="product-item__price">\n                        <span class="product-item__price-default${n?" product-item__price-only":""}">${a}€</span>\n                        <span class="product-item__price-discount${n?" product-item__price-only":""}">${(a-a/100*r).toFixed(2)}€</span>\n                    </div>\n                </div>\n                <div class="product-item__rating-buy">\n                    <span class="product-item__rating" id="rating-${t}">\n                        ${c}\n                    </span>\n                    <div class="product-item__button">\n                      <button data-id=${t} class="button button--rounded button--bordered button__add">${f}</button>\n                    </div>\n                </div>  \n            </div>\n          </a>\n          `,s++}i.innerHTML+=g,n.innerHTML+=`#rating-${t}:before {\n                content: '★★★★★';\n                letter-spacing: 3px;\n                background: linear-gradient(90deg, #fc0 ${c/5*100}%, #fff ${c/5*100}%);\n                -webkit-background-clip: text;\n                -webkit-text-fill-color: transparent;}\n`})),0===s&&(i.innerHTML='<div class="products__empty"> Pyyntöäsi vastaavia tuotteita ei löytynyt. Yritä uudelleen</div>'),a.append(i),this.addHandlers()}applyCart(t){const e=r.Utils.ids(".product-item");if(e)for(const t of e)t.classList.remove("product-item--carted"),r.Utils.id(`#product-${t.dataset.id} .button__add`).html("Lisää ostoskoriin"),r.Utils.id(`#product-${t.dataset.id} .info-list__value`).html(this.model.totalStock(+t.dataset.id).toString());for(const e of t){const t=r.Utils.id(`#product-${e}`);null!==t&&(t.class("product-item--carted"),r.Utils.id(`#product-${e} .button__add`).html("Poista korista"))}}addHandlers(){const t=r.Utils.ids(".products__item");if(t)for(const e of t)e.addEventListener("click",(t=>{if(t.target instanceof HTMLElement&&t.target.closest(".button__add"))return t.preventDefault(),this.controller.toggleCart(+e.dataset.id),!1;if(t.target instanceof HTMLElement&&t.target.closest(".products__item")){const e=t.target.closest(".products__item");return this.controller.route(e.href,t),!1}}))}}},559:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SearchView=void 0;const r=a(788);e.SearchView=class{constructor(t,e){this.controller=t,this.model=e}render(t){const e=r.Utils.create("head-controls__search search","div"),a=r.Utils.create("search__input","input");a.placeholder="Kirjoita hakusana",a.name="search",a.value=this.model.search,e.append(a),t.append(e),this.addHandler(a)}addHandler(t){t.addEventListener("input",(t=>{const e=t.target;this.controller.addSearchPattern(e.value)}))}}},887:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SortByView=void 0;const r=a(788),o=a(743);e.SortByView=class{constructor(t,e){this.controller=t,this.model=e}render(t){const e=r.Utils.create("head-controls__sort-by sort-by","div"),a=r.Utils.create("sort-by__label","label");a.innerText="suodattimet",a.setAttribute("for","sort-by"),e.append(a),this.fill(e),t.append(e)}fill(t){const e=r.Utils.create("sort-by__select","select");e.name="sort-by",e.id="sort-by",this.fillSelect(t,e),this.addHandler(e)}fillSelect(t,e){Object.values(o.SortSettings).forEach((t=>e.append(this.generateOption(t)))),t.append(e)}generateOption(t){const e=r.Utils.create("","option");return e.value=`${t}`,e.innerText=`${t.replaceAll("-"," ")}`,this.model.sort===t&&(e.selected=!0),e}addHandler(t){t.addEventListener("change",(t=>{const e=t.target;this.controller.changeSort(e.value)}))}}},950:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProductView=void 0;const r=a(788),o=a(898),s=a(926),n=a(758);e.ProductView=class{constructor(t,e,a,o){this.controller=t,this.model=e,this.root=a,this.onCartUpdate=o,this.productRoot=r.Utils.create("product","section"),this.breadcrumbsNav=r.Utils.create("breadcrumbs-nav","div"),this.productWrapper=r.Utils.create("product__wrapper","div"),this.modal=new n.ModalWindow,this.productId=-1}render(t){this.root.html("");for(let e=0;e<this.model.products.length;e++)if(this.model.products[e].id===parseInt(t)){this.productId=+t,this.fill(this.model.products[e]);break}this.controller.applyCart()}fill(t){this.fillBreadcrumbsNav(t),this.fillProduct(t),this.productRoot.append(this.breadcrumbsNav,this.productWrapper),this.root.append(this.productRoot),this.addHandlers(),this.addListeners()}fillBreadcrumbsNav({category:t,title:e}){this.breadcrumbsNav.innerHTML=`\n      <ul class="breadcrumbs-nav__list">\n        <li class="breadcrumbs-nav__item"><a class="bread__link" href="/">Pää </a></li>\n        <li class="breadcrumbs-nav__item"><a class="bread__link" href="/?${s.SearchParams.CATEGORY}=${t.id}">${t.name}</a></li>\n        <li class="breadcrumbs-nav__item"><a href="#" onClick="return(false);">${e}</a></li>\n      </ul>`}fillProduct(t){let e='<div class="product__pictures pictures">';t.images.length&&(e+=this.addImages(t.images)),e+="</div>",t&&(e+=this.addProduct(t)),this.productWrapper.innerHTML=e}addImages(t){let e=`<div class="pictures__main-pic">\n                        <img src="${t[0]}" alt="Product image">                    \n                    </div>`;return e+='<ul class="pictures__list">',t.forEach((t=>{e+=`<li class="pictures__item">\n                      <img src="${t}" alt="Product image">\n                      <span class="icon icon--zoom" data-id="zoom"></span>\n                   </li>`})),e+="</ul>",e}addProduct(t){o.headStyle.clearHeadStyle();o.headStyle.getHeadStyle().innerHTML+=`\n      #rating-${t.id}:before {\n        content: '★★★★★';\n        letter-spacing: 3px;\n        background: linear-gradient(90deg, #fc0 ${t.rating/5*100}%, #fff ${t.rating/5*100}%);\n        -webkit-background-clip: text;\n        -webkit-text-fill-color: transparent;}\n`;const e=this.model.inCart(t.id),a=e?"Poista ostoskorista":"Lisää ostoskoriin",r="button button--rounded button--bordered button__add-product"+(e?" button--carted":""),s=!t.discountPercentage;return`\n      <div class="product__content">\n        <h2 class="product__title title">${t.title}</h2>\n        <div class="product__desc">\n            <h4 class="product__desc-title title">Tuotteen kuvaus</h4>\n            <span class="product__desc-content">${t.description}</span>                  \n        </div>\n\n        <div class="product__info">\n            <h4 class="product__info-title title">Ominaisuudet</h4>\n            <ul class="product__info-list info-list">\n                <li class="info-list__item">\n                    <span class="info-list__name">Luokka</span>\n                    <span class="info-list__value">${t.category.name}</span>\n                </li>\n                <li class="info-list__item">\n                    <span class="info-list__name">Brändi</span>\n                    <span class="info-list__value">${t.brand.name}</span>\n                </li>\n                <li class="info-list__item">\n                    <span class="info-list__name">Saatavilla</span>\n                    <span class="info-list__value" id="info-list-product-value">${t.stock-t.stockUsed}</span>\n                </li>\n            </ul>\n        </div>\n                    \n        <div class="product__price">\n            <span class="product__price-default${s?" product__price-only":""}">${t.price}€</span>\n            <span class="product__price-discount${s?" product__price-only":""}">${(t.price-t.price/100*t.discountPercentage).toFixed(2)}€</span>\n        </div>\n\n        <div class="product__rating">\n            <span class="product__rating-stars" id="rating-${t.id}">${t.rating}</span>\n        </div>\n\n        <div class="product__buttons">\n            <button class="${r}" data-id="${t.id}">${a}</button>\n            <a href="/cart" class="button button--rounded button--bordered button__buy-product" data-id="${t.id}"> Nopea ostos</a>\n        </div>\n      </div>`}addHandlers(){r.Utils.addEvent(".pictures__list","click",(t=>{const e=t.target;if("IMG"===e.tagName){const t=r.Utils.id(".pictures__main-pic");t.innerHTML="",t.append(e.cloneNode(!0))}if("SPAN"===e.tagName){const t=e.previousElementSibling;this.appendImgZoomModal(t)}}));for(const t of r.Utils.id(".bread__link"))t.addEventListener("click",(e=>{this.controller.route(t.href,e)}));const t=r.Utils.id(".button__add-product"),e=r.Utils.id(".button__buy-product");null!==t&&r.Utils.addEvent(t,"click",(()=>(this.controller.toggleCart(+t.dataset.id),!1))),null!==e&&e.addEventListener("click",(t=>(this.controller.quickBuy(t,+e.dataset.id,e.href),!1)))}addListeners(){const t=()=>{const t=this.model.cartIds;this.applyCart(t),this.onCartUpdate(this.model.cartStockTotal,this.model.totalPrice,this.model.totalDiscounted)};this.model.on("cart.update",t),window.addEventListener("storage",(()=>{this.model.initState(),this.controller.applyCart(),t()}))}applyCart(t){const e=t.includes(this.productId),a=r.Utils.id(".button__add-product"),o=r.Utils.id("#info-list-product-value");null!==a&&a.class("button--carted",!e).html(e?"Poista ostoskorista":"Lisää ostoskoriin"),null!==o&&o.html(this.model.totalStock(this.productId).toString())}appendImgZoomModal(t){const e=r.Utils.create("modal__img","div");e.id="modal__img";const a=t.cloneNode(!0);a.className="modal__img-origin",a.id="origin-img";const o=r.Utils.create("modal__img-zoom","span");o.id="zoom-img",o.style.backgroundImage=`url('${a.src}')`,o.style.backgroundRepeat="no-repeat";const s=r.Utils.create("modal__img-text","p");s.innerText=" Voit lähentää kuvaa viemällä hiiren sen päälle.",e.append(s,a,o),this.modal.buildModal(e),a.addEventListener("mousemove",(t=>this.handleZoomImage(t,a,o)))}handleZoomImage(t,e,a){const{left:r,top:o}=e.getBoundingClientRect(),s=t.pageX-r-window.pageXOffset,n=t.pageY-o-window.pageYOffset;a.style.left=s-a.offsetWidth/2+"px",a.style.top=n-a.offsetHeight/2+"px";const i=2*s-a.offsetWidth/2,l=2*n-a.offsetHeight/2;a.style.backgroundPosition=`-${i}px -${l}px`}}},112:(t,e,a)=>{t.exports=a.p+"assets/svg/logo.svg"},49:t=>{t.exports=JSON.parse('[{"id":0,"title":"Lanka \\"Iiris\\"","description":"Lanka Iiris \\"Gamma\\" käytetään harjakattoisten trikooiden, lautasliinojen, kaulusten kone- ja käsineulomiseen. Iris \\"Gamma\\" langat on valmistettu egyptiläisestä puuvillasta eurooppalaisilla laitteilla käyttäen korkealaatuisia eurooppalaisia ​​väriaineita. Langat ovat merseroituja, sileitä, tasapaksuisia, niillä on vakaa väri.","price":9.3,"discountPercentage":7,"rating":4.3,"stock":76,"stockUsed":0,"show":true,"cart":false,"brand":{"id":0,"name":"Gamma"},"category":{"id":0,"name":"Neulominen"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/0/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/0/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/0/1.jpg"]},{"id":1,"title":"Lanka \\"Iiris меланж\\"","description":" Lanka Iris melange \\"Gamma\\" käytetään harjakattoisten trikooiden, lautasliinojen, kaulusten kone- ja käsineulomiseen. Iris \\"Gamma\\" langat on valmistettu egyptiläisestä puuvillasta eurooppalaisilla laitteilla käyttäen korkealaatuisia eurooppalaisia ​​väriaineita. Langat ovat merseroituja, sileitä, tasapaksuisia, niillä on vakaa väri.","price":9.3,"discountPercentage":0,"rating":4.8,"stock":58,"stockUsed":0,"show":true,"cart":false,"brand":{"id":0,"name":"Gamma"},"category":{"id":0,"name":"Neulominen"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/1/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/1/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/1/1.jpg"]},{"id":2,"title":"Lanka \\"Iris valikoituja \\"","description":"Lanka Iris valikoituja \\"Gamma\\" käytetään harjakattoisten trikooiden, lautasliinojen, kaulusten kone- ja käsineulomiseen. Iris \\"Gamma\\" langat on valmistettu egyptiläisestä puuvillasta eurooppalaisilla laitteilla käyttäen korkealaatuisia eurooppalaisia ​​väriaineita. Langat ovat merseroituja, sileitä, tasapaksuisia, niillä on vakaa väri.","price":9.3,"discountPercentage":0,"rating":5,"stock":17,"stockUsed":0,"show":true,"cart":false,"brand":{"id":0,"name":"Gamma"},"category":{"id":0,"name":"Neulominen"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/2/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/2/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/2/1.jpg"]},{"id":3,"title":"Аrkkuja SBJ-010","description":"\\"Gamma\\" laatikko 23,5x23,5x14,5 cm. Neliön muotoinen laatikko kahvalla, pohja puuta, etupinta tekstiilimateriaaleista. Laatikon kahvasta ripustettu miniorganisaattori vanerista valmistetuille langoille \\"Gamma\\" logolla. Suunniteltu pienille esineille.","price":25,"discountPercentage":0,"rating":5,"stock":4,"stockUsed":0,"show":true,"cart":false,"brand":{"id":0,"name":"Gamma"},"category":{"id":1,"name":"Аrkkuja"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/3/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/3/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/3/1.jpg"]},{"id":4,"title":"Аrkkuja AK-10","description":"\\"Gamma\\" laatikko 23,5x23,5x14,5 cm. Neliön muotoinen laatikko kahvalla, pohja puuta, etupinta tekstiilimateriaaleista. Laatikon kahvasta ripustettu miniorganisaattori vanerista valmistetuille langoille \\"Gamma\\" logolla. Suunniteltu pienille esineille.","price":23,"discountPercentage":0,"rating":4.8,"stock":8,"stockUsed":0,"show":true,"cart":false,"brand":{"id":0,"name":"Gamma"},"category":{"id":1,"name":"Аrkkuja"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/4/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/4/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/4/1.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/4/2.jpg"]},{"id":5,"title":"Аrkkuja AK-01","description":"\\"Gamma\\" laatikko 23,5x23,5x14,5 cm. Neliön muotoinen laatikko kahvalla, pohja puuta, etupinta tekstiilimateriaaleista. Laatikon kahvasta ripustettu miniorganisaattori vanerista valmistetuille langoille \\"Gamma\\" logolla. Suunniteltu pienille esineille.","price":24,"discountPercentage":3.7,"rating":5,"stock":3,"stockUsed":0,"show":true,"cart":false,"brand":{"id":0,"name":"Gamma"},"category":{"id":1,"name":"Аrkkuja"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/5/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/5/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/5/1.jpg"]},{"id":6,"title":"  Helmi muovinen","description":" Muovinen helmihelmi \\"Zlatka\\" PB Halkaisija 4 mm. Niitä käytetään helmien, rannekorujen, kaulakorujen ja muiden korujen, asusteiden valmistukseen, vaatteiden koristeluun ja luoviin käsitöihin. Valmistettaessa helmiä nro 23 kultaa ja nro 24 hopeaa värjäys tehdään käsin. Värjettävien helmien väliin laitetaan pienempiä helmiä ja niihin ruiskutetaan maalia ruiskupistoolilla, jolloin helmet saavat mattavaikutelman.","price":4.7,"discountPercentage":0,"rating":4.1,"stock":153,"stockUsed":0,"show":true,"cart":false,"brand":{"id":1,"name":"Zlatka"},"category":{"id":2,"name":" Kudonta helmistä"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/6/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/6/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/6/1.jpg"]},{"id":7,"title":"Helmi muovinen","description":" Muovihelmi \\"Hobbius\\" ABFC-setti käsityöhön Aakkosellinen cocktail TM Hobbiukselta Koko: 6 mm Universaali koostumus. Jokainen setti sisältää 100 gr. helmiä sovelletuilla venäläisillä kirjaimilla. Leveä aukko mahdollistaa niiden käytön monenlaisiin tarkoituksiin. Tällaisia ​​helmiä voidaan käyttää onnittelutarkoituksiin - romukortin allekirjoittamiseen, juhlavan seppeleen, lahjan tekemiseen jne.","price":5.7,"discountPercentage":4,"rating":5,"stock":99,"stockUsed":0,"show":true,"cart":false,"brand":{"id":2,"name":"Hobbius"},"category":{"id":2,"name":"Kudonta helmistä"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/7/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/7/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/7/1.jpg"]},{"id":8,"title":"Helmi MIX muovinen","description":" Muovihelmi \\"Zlatka\\" MIX PBM metalliefekti, antiikkiefekti. Vanhentaminen on nykyään suosittu sisustustekniikka, joka antaa esineille antiikkisen ilmeen. Käytetään helmien, rannekorujen, kaulakorujen ja muiden korujen, koristevaatteiden, asusteiden jne. valmistukseen.","price":2.2,"discountPercentage":0,"rating":4.7,"stock":136,"stockUsed":0,"show":true,"cart":false,"brand":{"id":1,"name":"Zlatka"},"category":{"id":2,"name":"Kudonta helmistä"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/8/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/8/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/8/1.jpg"]},{"id":9,"title":" Mold \\"Fiorico\\" \\"Ruusunlehti\\"","description":" Sitä käytetään luomaan tuotteelle tekstuurijälki, kun muotoillaan ja työstetään foamiraania. Muotien sävyissä voi olla pieniä eroja. 7,6 x 5,1 cm","price":1.5,"discountPercentage":0,"rating":5,"stock":315,"stockUsed":0,"show":true,"cart":false,"brand":{"id":3,"name":"Blumentag"},"category":{"id":3,"name":" Harrastukset ja luovuus"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/9/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/9/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/9/1.jpg"]},{"id":10,"title":"Mold \\"Fiorico\\" \\"Ruusunlehti\\"","description":" Sitä käytetään luomaan tuotteelle tekstuurijälki, kun muotoillaan ja työstetään foamiraania. Muotien sävyissä voi olla pieniä eroja. 6,4 x 6,2 cm","price":1.8,"discountPercentage":5.5,"rating":4.5,"stock":227,"stockUsed":0,"show":true,"cart":false,"brand":{"id":3,"name":"Blumentag"},"category":{"id":3,"name":" Harrastukset ja luovuus"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/10/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/10/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/10/1.jpg"]},{"id":11,"title":"Mold \\"Fiorico\\" \\" voikukan lehtiä\\"","description":" Sitä käytetään luomaan tuotteelle tekstuurijälki, kun muotoillaan ja työstetään foamiraania. Muotien sävyissä voi olla pieniä eroja. 6,4 x 6,2 cm","price":1.8,"discountPercentage":8.7,"rating":4.9,"stock":169,"stockUsed":0,"show":true,"cart":false,"brand":{"id":3,"name":"Blumentag"},"category":{"id":3,"name":" Harrastukset ja luovuus"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/11/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/11/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/11/1.jpg"]},{"id":12,"title":" Koriste-elementit \\"oksat\\"","description":" Koriste-elementit \\"Blumentag\\" GPT-06 on tarkoitettu pienoispuutarhakoostumusten luomiseen \\"Puutarhanhoito\\" tyyliin. Sitä voidaan käyttää myös kukka-asetelmien koristeluun, lahjapaketointiin jne. 8x7cm","price":1.4,"discountPercentage":0,"rating":5,"stock":336,"stockUsed":0,"show":true,"cart":false,"brand":{"id":3,"name":"Blumentag"},"category":{"id":4,"name":" Floristiikka"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/12/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/12/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/12/1.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/12/2.jpg"]},{"id":13,"title":" Koriste-elementit \\"värilliset oksat\\"","description":" Koriste-elementit \\"Blumentag\\" GPT-06 on tarkoitettu pienoispuutarhakoostumusten luomiseen \\"Puutarhanhoito\\" tyyliin. Sitä voidaan käyttää myös kukka-asetelmien koristeluun, lahjapaketointiin jne. 8x7cm","price":1.3,"discountPercentage":3.3,"rating":5,"stock":478,"stockUsed":0,"show":true,"cart":false,"brand":{"id":3,"name":"Blumentag"},"category":{"id":4,"name":"Floristiikka"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/13/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/13/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/13/1.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/13/2.jpg"]},{"id":14,"title":" Bath Bomb Aroma Strawberry","description":" Kylpypommi auttaa palauttamaan energiaa ja täyttämään tilan herkullisilla, sydämen muotoisilla aromilla.","price":1.9,"discountPercentage":0,"rating":5,"stock":57,"stockUsed":0,"show":true,"cart":false,"brand":{"id":4,"name":"Lol&Pop"},"category":{"id":5,"name":" Kauneutta ja hoitoa"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/14/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/14/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/14/1.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/14/2.jpg"]},{"id":15,"title":"Kupliva kylpypallo mangomaku","description":" Kupliva pallo luo pyörre-efektin kylpyyn, auttaa palauttamaan energiaa ja täyttää ympärillä olevan tilan herkullisilla aromilla.","price":1.9,"discountPercentage":1.5,"rating":5,"stock":78,"stockUsed":0,"show":true,"cart":false,"brand":{"id":4,"name":"Lol&Pop"},"category":{"id":5,"name":"Kauneutta ja hoitoa"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/15/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/15/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/15/1.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/15/2.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/15/3.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/15/4.jpg"]},{"id":16,"title":" Vartalokuorinta mandariini + kaneli","description":" Aroma Body Scrub Mandarin & Cinnamon Ehkäisee liikalihavuutta ja kehon muotojen joustavuuden menetystä. Estää venytysmerkkien muodostumisen. Auttaa poistamaan selluliittia. Lievittää jännitystä ja ärtyneisyyttä. Kosteuttaa täydellisesti kuivaa hilseilevää ihoa, tasoittaa ja nuorentaa antaen sille elastisuutta.","price":12.9,"discountPercentage":23,"rating":3.9,"stock":331,"stockUsed":0,"show":true,"cart":false,"brand":{"id":4,"name":"Lol&Pop"},"category":{"id":5,"name":" Kauneutta ja hoitoa"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/16/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/16/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/16/1.jpg"]},{"id":17,"title":" Aloe Vera sormimaali","description":" ArtBerry® Aloe Vera -geelisormimaalit on suunniteltu erityisesti pienille lapsille ja ne on tarkoitettu piirtämiseen paperille ja kartongille, sormilla ja kämmenillä sekä erityisellä siveltimellä tai sienellä. Maalit sekoittuvat helposti ja tasaisesti toisiinsa muodostaen uusia sävyjä. Kuivumisen jälkeen kuvan värit pysyvät mehukkaina ja kirkkaina, kuva saa kiiltävän kiillon.","price":7.55,"discountPercentage":0,"rating":5,"stock":174,"stockUsed":0,"show":true,"cart":false,"brand":{"id":5,"name":"Artberry"},"category":{"id":6,"name":" Lasten luovuus"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/17/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/17/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/17/1.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/17/2.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/17/3.jpg"]},{"id":18,"title":"Vahaliidut 8 väriä","description":" Klassiset mehiläisvahapohjaiset vahakynät pehmeää kirjoitusta varten. Kotelo on pyöreä, halkaisija 7 mm, esiteroitettu, paperiin kääritty, rikkoontumaton. Piirustukset eivät menetä kirkkauttaan ajan myötä UV-suojasta vastaavien komponenttien ansiosta. Eurooppalainen laatusertifikaatti takaa, että koostumuksessa ei ole myrkyllisiä aineita.","price":5.2,"discountPercentage":0,"rating":4.8,"stock":778,"stockUsed":0,"show":true,"cart":false,"brand":{"id":5,"name":"Artberry"},"category":{"id":6,"name":" Lasten luovuus"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/18/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/18/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/18/1.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/18/2.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/18/3.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/18/4.jpg"]},{"id":19,"title":" Värityssetti \\"Karamelli\\"","description":" \\"KOLME KASSA\\" -sarjan suosikkisankarit voi nyt värittää itse! Jokainen sarja sisältää erityisiä kirkkaita maaleja, jotka on valittu hahmon yksilöllisen paletin mukaan. Sarjat kehittävät mielikuvitusta, hienomotorisia taitoja ja tarkkaavaisuutta.","price":2.59,"discountPercentage":0,"rating":4.2,"stock":120,"stockUsed":0,"show":true,"cart":false,"brand":{"id":6,"name":"1TOY"},"category":{"id":6,"name":" Lasten luovuus"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/19/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/19/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/19/1.jpg"]},{"id":20,"title":" Kanvas paljeteilla värjäämiseen \\"Unicorn\\"","description":" Stressipoistokuvan väritys on helppoa ja miellyttävää: tarvitset mitä tahansa huopakyniä, vesivärejä tai värikyniä, jotka voidaan varjostaa kevyesti kankaalle sormella tai puuvillalla. Kynä ei sovi kimalteleville alueille, ja huopakynä näyttää vaaleammalta, mutta lisää silti väriä.","price":19.9,"discountPercentage":0.5,"rating":5,"stock":147,"stockUsed":0,"show":true,"cart":false,"brand":{"id":6,"name":"1TOY"},"category":{"id":6,"name":" Lasten luovuus"},"thumbnail":"https://raw.githubusercontent.com/fogarea/assets/online-shop/products/20/thumbnail.jpg","images":["https://raw.githubusercontent.com/fogarea/assets/online-shop/products/20/0.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/20/1.jpg","https://raw.githubusercontent.com/fogarea/assets/online-shop/products/20/2.jpg"]}]')}},i={};function l(t){var e=i[t];if(void 0!==e){if(void 0!==e.error)throw e.error;return e.exports}var a=i[t]={id:t,exports:{}};try{var r={id:t,module:a,factory:n[t],require:l};l.i.forEach((function(t){t(r)})),a=r.module,r.factory.call(a.exports,a,a.exports,r.require)}catch(t){throw a.error=t,t}return a.exports}l.m=n,l.c=i,l.i=[],l.hu=t=>t+"."+l.h()+".hot-update.js",l.miniCssF=t=>{},l.hmrF=()=>"app."+l.h()+".hot-update.json",l.h=()=>"da162a8fc84bc086e2c3",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},l.l=(e,a,r,o)=>{if(t[e])t[e].push(a);else{var s,n;if(void 0!==r)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var d=i[c];if(d.getAttribute("src")==e){s=d;break}}s||(n=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=e),t[e]=[a];var u=(a,r)=>{s.onerror=s.onload=null,clearTimeout(p);var o=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((t=>t(r))),a)return a(r)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),n&&document.head.appendChild(s)}},l.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t,e,a,r={},o=l.c,s=[],n=[],i="idle",c=0,d=[];function u(t){i=t;for(var e=[],a=0;a<n.length;a++)e[a]=n[a].call(null,t);return Promise.all(e)}function p(){0==--c&&u("ready").then((function(){if(0===c){var t=d;d=[];for(var e=0;e<t.length;e++)t[e]()}}))}function h(t){if("idle"!==i)throw new Error("check() is only allowed in idle status");return u("check").then(l.hmrM).then((function(a){return a?u("prepare").then((function(){var r=[];return e=[],Promise.all(Object.keys(l.hmrC).reduce((function(t,o){return l.hmrC[o](a.c,a.r,a.m,t,e,r),t}),[])).then((function(){return e=function(){return t?g(t):u("ready").then((function(){return r}))},0===c?e():new Promise((function(t){d.push((function(){t(e())}))}));var e}))})):u(f()?"ready":"idle").then((function(){return null}))}))}function m(t){return"ready"!==i?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+i+")")})):g(t)}function g(t){t=t||{},f();var r=e.map((function(e){return e(t)}));e=void 0;var o=r.map((function(t){return t.error})).filter(Boolean);if(o.length>0)return u("abort").then((function(){throw o[0]}));var s=u("dispose");r.forEach((function(t){t.dispose&&t.dispose()}));var n,i=u("apply"),l=function(t){n||(n=t)},c=[];return r.forEach((function(t){if(t.apply){var e=t.apply(l);if(e)for(var a=0;a<e.length;a++)c.push(e[a])}})),Promise.all([s,i]).then((function(){return n?u("fail").then((function(){throw n})):a?g(t).then((function(t){return c.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t})):u("idle").then((function(){return c}))}))}function f(){if(a)return e||(e=[]),Object.keys(l.hmrI).forEach((function(t){a.forEach((function(a){l.hmrI[t](a,e)}))})),a=void 0,!0}l.hmrD=r,l.i.push((function(d){var g,f,v,_,b=d.module,k=function(e,a){var r=o[a];if(!r)return e;var n=function(n){if(r.hot.active){if(o[n]){var i=o[n].parents;-1===i.indexOf(a)&&i.push(a)}else s=[a],t=n;-1===r.children.indexOf(n)&&r.children.push(n)}else console.warn("[HMR] unexpected require("+n+") from disposed module "+a),s=[];return e(n)},l=function(t){return{configurable:!0,enumerable:!0,get:function(){return e[t]},set:function(a){e[t]=a}}};for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&"e"!==d&&Object.defineProperty(n,d,l(d));return n.e=function(t){return function(t){switch(i){case"ready":u("prepare");case"prepare":return c++,t.then(p,p),t;default:return t}}(e.e(t))},n}(d.require,d.id);b.hot=(g=d.id,f=b,_={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:v=t!==g,_requireSelf:function(){s=f.parents.slice(),t=v?void 0:g,l(g)},active:!0,accept:function(t,e,a){if(void 0===t)_._selfAccepted=!0;else if("function"==typeof t)_._selfAccepted=t;else if("object"==typeof t&&null!==t)for(var r=0;r<t.length;r++)_._acceptedDependencies[t[r]]=e||function(){},_._acceptedErrorHandlers[t[r]]=a;else _._acceptedDependencies[t]=e||function(){},_._acceptedErrorHandlers[t]=a},decline:function(t){if(void 0===t)_._selfDeclined=!0;else if("object"==typeof t&&null!==t)for(var e=0;e<t.length;e++)_._declinedDependencies[t[e]]=!0;else _._declinedDependencies[t]=!0},dispose:function(t){_._disposeHandlers.push(t)},addDisposeHandler:function(t){_._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=_._disposeHandlers.indexOf(t);e>=0&&_._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,i){case"idle":e=[],Object.keys(l.hmrI).forEach((function(t){l.hmrI[t](g,e)})),u("ready");break;case"ready":Object.keys(l.hmrI).forEach((function(t){l.hmrI[t](g,e)}));break;case"prepare":case"check":case"dispose":case"apply":(a=a||[]).push(g)}},check:h,apply:m,status:function(t){if(!t)return i;n.push(t)},addStatusHandler:function(t){n.push(t)},removeStatusHandler:function(t){var e=n.indexOf(t);e>=0&&n.splice(e,1)},data:r[g]},t=void 0,_),b.parents=s,b.children=[],s=[],d.require=k})),l.hmrC={},l.hmrI={}})(),(()=>{var t;l.g.importScripts&&(t=l.g.location+"");var e=l.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var a=e.getElementsByTagName("script");a.length&&(t=a[a.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=t+"../"})(),e=(t,e,a,r)=>{var o=document.createElement("link");return o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=s=>{if(o.onerror=o.onload=null,"load"===s.type)a();else{var n=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=i,o.parentNode.removeChild(o),r(l)}},o.href=e,document.head.appendChild(o),o},a=(t,e)=>{for(var a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var o=(n=a[r]).getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(o===t||o===e))return n}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){var n;if((o=(n=s[r]).getAttribute("data-href"))===t||o===e)return n}},r=[],o=[],s=t=>({dispose:()=>{for(var t=0;t<r.length;t++){var e=r[t];e.parentNode&&e.parentNode.removeChild(e)}r.length=0},apply:()=>{for(var t=0;t<o.length;t++)o[t].rel="stylesheet";o.length=0}}),l.hmrC.miniCss=(t,n,i,c,d,u)=>{d.push(s),t.forEach((t=>{var s=l.miniCssF(t),n=l.p+s,i=a(s,n);i&&c.push(new Promise(((a,s)=>{var l=e(t,n,(()=>{l.as="style",l.rel="preload",a()}),s);r.push(i),o.push(l)})))}))},(()=>{var t,e,a,r,o,s=l.hmrS_jsonp=l.hmrS_jsonp||{143:0},n={};function i(e,a){return t=a,new Promise(((t,a)=>{n[e]=t;var r=l.p+l.hu(e),o=new Error;l.l(r,(t=>{if(n[e]){n[e]=void 0;var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;o.message="Loading hot update chunk "+e+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,a(o)}}))}))}function c(t){function n(t){for(var e=[t],a={},r=e.map((function(t){return{chain:[t],id:t}}));r.length>0;){var o=r.pop(),s=o.id,n=o.chain,c=l.c[s];if(c&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:n,moduleId:s};if(c.hot._main)return{type:"unaccepted",chain:n,moduleId:s};for(var d=0;d<c.parents.length;d++){var u=c.parents[d],p=l.c[u];if(p){if(p.hot._declinedDependencies[s])return{type:"declined",chain:n.concat([u]),moduleId:s,parentId:u};-1===e.indexOf(u)&&(p.hot._acceptedDependencies[s]?(a[u]||(a[u]=[]),i(a[u],[s])):(delete a[u],e.push(u),r.push({chain:n.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:a}}function i(t,e){for(var a=0;a<e.length;a++){var r=e[a];-1===t.indexOf(r)&&t.push(r)}}l.f&&delete l.f.jsonpHmr,e=void 0;var c={},d=[],u={},p=function(t){console.warn("[HMR] unexpected require("+t.id+") to disposed module")};for(var h in a)if(l.o(a,h)){var m,g=a[h],f=!1,v=!1,_=!1,b="";switch((m=g?n(h):{type:"disposed",moduleId:h}).chain&&(b="\nUpdate propagation: "+m.chain.join(" -> ")),m.type){case"self-declined":t.onDeclined&&t.onDeclined(m),t.ignoreDeclined||(f=new Error("Aborted because of self decline: "+m.moduleId+b));break;case"declined":t.onDeclined&&t.onDeclined(m),t.ignoreDeclined||(f=new Error("Aborted because of declined dependency: "+m.moduleId+" in "+m.parentId+b));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(m),t.ignoreUnaccepted||(f=new Error("Aborted because "+h+" is not accepted"+b));break;case"accepted":t.onAccepted&&t.onAccepted(m),v=!0;break;case"disposed":t.onDisposed&&t.onDisposed(m),_=!0;break;default:throw new Error("Unexception type "+m.type)}if(f)return{error:f};if(v)for(h in u[h]=g,i(d,m.outdatedModules),m.outdatedDependencies)l.o(m.outdatedDependencies,h)&&(c[h]||(c[h]=[]),i(c[h],m.outdatedDependencies[h]));_&&(i(d,[m.moduleId]),u[h]=p)}a=void 0;for(var k,y=[],S=0;S<d.length;S++){var P=d[S],C=l.c[P];C&&(C.hot._selfAccepted||C.hot._main)&&u[P]!==p&&!C.hot._selfInvalidated&&y.push({module:P,require:C.hot._requireSelf,errorHandler:C.hot._selfAccepted})}return{dispose:function(){var t;r.forEach((function(t){delete s[t]})),r=void 0;for(var e,a=d.slice();a.length>0;){var o=a.pop(),n=l.c[o];if(n){var i={},u=n.hot._disposeHandlers;for(S=0;S<u.length;S++)u[S].call(null,i);for(l.hmrD[o]=i,n.hot.active=!1,delete l.c[o],delete c[o],S=0;S<n.children.length;S++){var p=l.c[n.children[S]];p&&((t=p.parents.indexOf(o))>=0&&p.parents.splice(t,1))}}}for(var h in c)if(l.o(c,h)&&(n=l.c[h]))for(k=c[h],S=0;S<k.length;S++)e=k[S],(t=n.children.indexOf(e))>=0&&n.children.splice(t,1)},apply:function(e){for(var a in u)l.o(u,a)&&(l.m[a]=u[a]);for(var r=0;r<o.length;r++)o[r](l);for(var s in c)if(l.o(c,s)){var n=l.c[s];if(n){k=c[s];for(var i=[],p=[],h=[],m=0;m<k.length;m++){var g=k[m],f=n.hot._acceptedDependencies[g],v=n.hot._acceptedErrorHandlers[g];if(f){if(-1!==i.indexOf(f))continue;i.push(f),p.push(v),h.push(g)}}for(var _=0;_<i.length;_++)try{i[_].call(null,k)}catch(a){if("function"==typeof p[_])try{p[_](a,{moduleId:s,dependencyId:h[_]})}catch(r){t.onErrored&&t.onErrored({type:"accept-error-handler-errored",moduleId:s,dependencyId:h[_],error:r,originalError:a}),t.ignoreErrored||(e(r),e(a))}else t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:h[_],error:a}),t.ignoreErrored||e(a)}}}for(var b=0;b<y.length;b++){var S=y[b],P=S.module;try{S.require(P)}catch(a){if("function"==typeof S.errorHandler)try{S.errorHandler(a,{moduleId:P,module:l.c[P]})}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:P,error:r,originalError:a}),t.ignoreErrored||(e(r),e(a))}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:P,error:a}),t.ignoreErrored||e(a)}}return d}}}self.webpackHotUpdate=(e,r,s)=>{for(var i in r)l.o(r,i)&&(a[i]=r[i],t&&t.push(i));s&&o.push(s),n[e]&&(n[e](),n[e]=void 0)},l.hmrI.jsonp=function(t,e){a||(a={},o=[],r=[],e.push(c)),l.o(a,t)||(a[t]=l.m[t])},l.hmrC.jsonp=function(t,n,d,u,p,h){p.push(c),e={},r=n,a=d.reduce((function(t,e){return t[e]=!1,t}),{}),o=[],t.forEach((function(t){l.o(s,t)&&void 0!==s[t]?(u.push(i(t,h)),e[t]=!0):e[t]=!1})),l.f&&(l.f.jsonpHmr=function(t,a){e&&l.o(e,t)&&!e[t]&&(a.push(i(t)),e[t]=!0)})},l.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(l.p+l.hmrF()).then((t=>{if(404!==t.status){if(!t.ok)throw new Error("Failed to fetch update manifest "+t.statusText);return t.json()}}))}})();l(303)})();